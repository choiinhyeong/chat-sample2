{"version":3,"file":"js/395.73714251.js","mappings":"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","sources":["webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/config.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/hash.js","webpack://frontend/./node_modules/jsonrpc-lite/dist/esnext/jsonrpc.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/indexer.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/user-agent.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/log-send.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/logger.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/error-exception.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/http-with-json-rpc.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/conference/auth-api-client.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/conference/room-api-client.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/json-rpc.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/noop.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/session/session.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/session/down-session.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/session/up-session.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/object-util.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/remote/remote.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/remote/remote-video.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/remote/remote-audio.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/participant/remote-participant.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/participant/local-participant.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/make-array.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/local/local.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/local/local-video.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/local/local-audio.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/local/local-media.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/remote/remote-audio-elements.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/local/local-screen.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/utils/room-event-enum.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/modules/conference/conference.js","webpack://frontend/./node_modules/@connectlive/connectlive-web-sdk/es6/index.js","webpack://frontend/./node_modules/eventemitter3/index.js","webpack://frontend/./node_modules/ua-parser-js/src/ua-parser.js","webpack://frontend/./src/components/connectLive/RemoteVideo.vue","webpack://frontend/./src/components/connectLive/RemoteVideo.vue?dc53","webpack://frontend/./src/components/connectLive/VoiceMeter.vue","webpack://frontend/./src/components/connectLive/VoiceMeter.vue?6cb1"],"sourcesContent":["export const SDK_VERSION = '0.0.31';\nexport const PROVISIONING_SERVER_URL = 'https://icl2-provisioning-dev.k9ertc.io';\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const hash = (message) => __awaiter(void 0, void 0, void 0, function* () {\n    const encoder = new TextEncoder();\n    const data = encoder.encode(message);\n    const hashArray = yield crypto.subtle.digest('SHA-256', data);\n    // ref: https://stackoverflow.com/questions/40031688/javascript-arraybuffer-to-hex\n    return [...new Uint8Array(hashArray)].map(x => x.toString(16).padStart(2, '0')).join('');\n});\n","// **Github:** https://github.com/teambition/jsonrpc-lite\n//\n// http://www.jsonrpc.org/specification\n// **License:** MIT\n'use strict';\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst isInteger = typeof Number.isSafeInteger === 'function'\n    ? Number.isSafeInteger // ECMAScript 2015\n    : function (num) {\n        return typeof num === 'number' && isFinite(num) && num === Math.floor(num) && Math.abs(num) <= 9007199254740991;\n    };\nexport class JsonRpc {\n    constructor() {\n        this.jsonrpc = '2.0';\n    }\n    serialize() {\n        return JSON.stringify(this);\n    }\n}\nJsonRpc.VERSION = '2.0';\nexport class RequestObject extends JsonRpc {\n    constructor(id, method, params) {\n        super();\n        this.id = id;\n        this.method = method;\n        if (params !== undefined) {\n            this.params = params;\n        }\n    }\n}\nexport class NotificationObject extends JsonRpc {\n    constructor(method, params) {\n        super();\n        this.method = method;\n        if (params !== undefined) {\n            this.params = params;\n        }\n    }\n}\nexport class SuccessObject extends JsonRpc {\n    constructor(id, result) {\n        super();\n        this.id = id;\n        this.result = result;\n    }\n}\nexport class ErrorObject extends JsonRpc {\n    // tslint:disable-next-line:no-shadowed-variable\n    constructor(id, error) {\n        super();\n        this.id = id;\n        this.error = error;\n        this.id = id;\n        this.error = error;\n    }\n}\nexport class JsonRpcParsed {\n    constructor(payload, type) {\n        this.payload = payload;\n        this.type = type;\n        this.payload = payload;\n        this.type = type;\n    }\n}\n/**\n * JsonRpcError Class\n *\n * @param  {String} message\n * @param  {Integer} code\n * @return {String} name: optional\n * @api public\n */\nexport class JsonRpcError {\n    constructor(message, code, data) {\n        this.message = message;\n        this.code = isInteger(code) ? code : 0;\n        if (data != null) {\n            this.data = data;\n        }\n    }\n}\nJsonRpcError.invalidRequest = function (data) {\n    return new JsonRpcError('Invalid request', -32600, data);\n};\nJsonRpcError.methodNotFound = function (data) {\n    return new JsonRpcError('Method not found', -32601, data);\n};\nJsonRpcError.invalidParams = function (data) {\n    return new JsonRpcError('Invalid params', -32602, data);\n};\nJsonRpcError.internalError = function (data) {\n    return new JsonRpcError('Internal error', -32603, data);\n};\nJsonRpcError.parseError = function (data) {\n    return new JsonRpcError('Parse error', -32700, data);\n};\n/**\n * Creates a JSON-RPC 2.0 request object\n *\n * @param  {String|Integer} id\n * @param  {String} method\n * @param  {Object|Array} [params]: optional\n * @return {Object} JsonRpc object\n * @api public\n */\nexport function request(id, method, params) {\n    const object = new RequestObject(id, method, params);\n    validateMessage(object, true);\n    return object;\n}\n/**\n * Creates a JSON-RPC 2.0 notification object\n *\n * @param  {String} method\n * @param  {Object|Array} [params]: optional\n * @return {Object} JsonRpc object\n * @api public\n */\nexport function notification(method, params) {\n    const object = new NotificationObject(method, params);\n    validateMessage(object, true);\n    return object;\n}\n/**\n * Creates a JSON-RPC 2.0 success response object\n *\n * @param  {String|Integer} id\n * @param  {Mixed} result\n * @return {Object} JsonRpc object\n * @api public\n */\nexport function success(id, result) {\n    const object = new SuccessObject(id, result);\n    validateMessage(object, true);\n    return object;\n}\n/**\n * Creates a JSON-RPC 2.0 error response object\n *\n * @param  {String|Integer} id\n * @param  {Object} JsonRpcError error\n * @return {Object} JsonRpc object\n * @api public\n */\nexport function error(id, err) {\n    const object = new ErrorObject(id, err);\n    validateMessage(object, true);\n    return object;\n}\nexport function parse(message) {\n    if (!isString(message)) {\n        return new JsonRpcParsed(JsonRpcError.invalidRequest(message), \"invalid\" /* invalid */);\n    }\n    let jsonrpcObj;\n    try {\n        jsonrpcObj = JSON.parse(message);\n    }\n    catch (err) {\n        return new JsonRpcParsed(JsonRpcError.parseError(message), \"invalid\" /* invalid */);\n    }\n    return parseJsonRpcObject(jsonrpcObj);\n}\n/**\n * Takes a JSON-RPC 2.0 payload (Object) or batch (Object[]) and tries to parse it.\n * If successful, determine what objects are inside (response, notification,\n * success, error, or invalid), and return their types and properly formatted objects.\n *\n * @param  {Object|Array} jsonrpcObj\n * @return {Object|Array} a single object or an array of `JsonRpcParsed` objects with `type` and `payload`:\n *\n *  {\n *    type: <Enum, 'request'|'notification'|'success'|'error'|'invalid'>\n *    payload: <JsonRpc|JsonRpcError>\n *  }\n *\n * @api public\n */\nexport function parseJsonRpcObject(jsonrpcObj) {\n    if (!Array.isArray(jsonrpcObj)) {\n        return parseObject(jsonrpcObj);\n    }\n    if (jsonrpcObj.length === 0) {\n        return new JsonRpcParsed(JsonRpcError.invalidRequest(jsonrpcObj), \"invalid\" /* invalid */);\n    }\n    const parsedObjectArray = [];\n    for (let i = 0, len = jsonrpcObj.length; i < len; i++) {\n        parsedObjectArray[i] = parseObject(jsonrpcObj[i]);\n    }\n    return parsedObjectArray;\n}\n/**\n * Alias for `parse` method.\n * Takes a JSON-RPC 2.0 payload (String) and tries to parse it into a JSON.\n * @api public\n */\nexport const parseJsonRpcString = parse;\n/**\n * Takes a JSON-RPC 2.0 payload (Object) and tries to parse it into a JSON.\n * If successful, determine what object is it (response, notification,\n * success, error, or invalid), and return it's type and properly formatted object.\n *\n * @param  {Object} obj\n * @return {Object} an `JsonRpcParsed` object with `type` and `payload`:\n *\n *  {\n *    type: <Enum, 'request'|'notification'|'success'|'error'|'invalid'>\n *    payload: <JsonRpc|JsonRpcError>\n *  }\n *\n * @api public\n */\nexport function parseObject(obj) {\n    let err = null;\n    let payload = null;\n    let payloadType = \"invalid\" /* invalid */;\n    if (obj == null || obj.jsonrpc !== JsonRpc.VERSION) {\n        err = JsonRpcError.invalidRequest(obj);\n        payloadType = \"invalid\" /* invalid */;\n    }\n    else if (!hasOwnProperty.call(obj, 'id')) {\n        const tmp = obj;\n        payload = new NotificationObject(tmp.method, tmp.params);\n        err = validateMessage(payload);\n        payloadType = \"notification\" /* notification */;\n    }\n    else if (hasOwnProperty.call(obj, 'method')) {\n        const tmp = obj;\n        payload = new RequestObject(tmp.id, tmp.method, tmp.params);\n        err = validateMessage(payload);\n        payloadType = \"request\" /* request */;\n    }\n    else if (hasOwnProperty.call(obj, 'result')) {\n        const tmp = obj;\n        payload = new SuccessObject(tmp.id, tmp.result);\n        err = validateMessage(payload);\n        payloadType = \"success\" /* success */;\n    }\n    else if (hasOwnProperty.call(obj, 'error')) {\n        const tmp = obj;\n        payloadType = \"error\" /* error */;\n        if (tmp.error == null) {\n            err = JsonRpcError.internalError(tmp);\n        }\n        else {\n            const errorObj = new JsonRpcError(tmp.error.message, tmp.error.code, tmp.error.data);\n            if (errorObj.message !== tmp.error.message || errorObj.code !== tmp.error.code) {\n                err = JsonRpcError.internalError(tmp);\n            }\n            else {\n                payload = new ErrorObject(tmp.id, errorObj);\n                err = validateMessage(payload);\n            }\n        }\n    }\n    if (err == null && payload != null) {\n        return new JsonRpcParsed(payload, payloadType);\n    }\n    return new JsonRpcParsed(err != null ? err : JsonRpcError.invalidRequest(obj), \"invalid\" /* invalid */);\n}\n// if error, return error, else return null\nfunction validateMessage(obj, throwIt) {\n    let err = null;\n    if (obj instanceof RequestObject) {\n        err = checkId(obj.id);\n        if (err == null) {\n            err = checkMethod(obj.method);\n        }\n        if (err == null) {\n            err = checkParams(obj.params);\n        }\n    }\n    else if (obj instanceof NotificationObject) {\n        err = checkMethod(obj.method);\n        if (err == null) {\n            err = checkParams(obj.params);\n        }\n    }\n    else if (obj instanceof SuccessObject) {\n        err = checkId(obj.id);\n        if (err == null) {\n            err = checkResult(obj.result);\n        }\n    }\n    else if (obj instanceof ErrorObject) {\n        err = checkId(obj.id, true);\n        if (err == null) {\n            err = checkError(obj.error);\n        }\n    }\n    if (throwIt && err != null) {\n        throw err;\n    }\n    return err;\n}\nfunction checkId(id, maybeNull) {\n    if (maybeNull && id === null) {\n        return null;\n    }\n    return isString(id) || isInteger(id)\n        ? null\n        : JsonRpcError.internalError('\"id\" must be provided, a string or an integer.');\n}\nfunction checkMethod(method) {\n    return isString(method) ? null : JsonRpcError.invalidRequest(method);\n}\nfunction checkResult(result) {\n    return result === undefined\n        ? JsonRpcError.internalError('Result must exist for success Response objects')\n        : null;\n}\nfunction checkParams(params) {\n    if (params === undefined) {\n        return null;\n    }\n    if (Array.isArray(params) || isObject(params)) {\n        // ensure params can be stringify\n        try {\n            JSON.stringify(params);\n            return null;\n        }\n        catch (err) {\n            return JsonRpcError.parseError(params);\n        }\n    }\n    return JsonRpcError.invalidParams(params);\n}\nfunction checkError(err) {\n    if (!(err instanceof JsonRpcError)) {\n        return JsonRpcError.internalError('Error must be an instance of JsonRpcError');\n    }\n    if (!isInteger(err.code)) {\n        return JsonRpcError.internalError('Invalid error code. It must be an integer.');\n    }\n    if (!isString(err.message)) {\n        return JsonRpcError.internalError('Message must exist or must be a string.');\n    }\n    return null;\n}\nfunction isString(obj) {\n    return obj !== '' && typeof obj === 'string';\n}\nfunction isObject(obj) {\n    return obj != null && typeof obj === 'object' && !Array.isArray(obj);\n}\nconst jsonrpc = {\n    JsonRpc,\n    JsonRpcError,\n    request,\n    notification,\n    success,\n    error,\n    parse,\n    parseObject,\n    parseJsonRpcObject,\n    parseJsonRpcString,\n};\nexport default jsonrpc;\nexport { jsonrpc };\n//# sourceMappingURL=jsonrpc.js.map","class Indexer {\n    constructor() {\n        this.id = 0;\n    }\n    get() {\n        this.id += 1;\n        return this.id;\n    }\n    reset() {\n        this.id = 0;\n    }\n}\nexport const indexer = new Indexer();\n","import UAParser from 'ua-parser-js';\nexport default new UAParser();\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as jsonrpc from 'jsonrpc-lite';\nimport { indexer } from './indexer';\nimport userAgentParser from './user-agent';\nimport { SDK_VERSION } from '../config';\nconst LogLevel = {\n    verbose: 0,\n    trace: 1,\n    debug: 2,\n    information: 3,\n    warning: 4,\n    error: 5\n};\nexport class LogSender {\n    constructor() {\n        this.ws = null;\n        this.keepAliveInterval = -1;\n        this.host = '';\n        this.token = '';\n        this.logLevelNumber = 3;\n    }\n    createWebSocket(host, token) {\n        this.host = host;\n        this.token = token;\n        return new Promise((resolve) => {\n            this.ws = new WebSocket(host);\n            this.ws.onopen = () => {\n                const os = userAgentParser.getOS();\n                const browser = userAgentParser.getBrowser();\n                const method = 'CnL.Registration';\n                const params = {\n                    token: token,\n                    userInfo: {\n                        sdkVersion: SDK_VERSION,\n                        platform: 'web',\n                        platformVersion: `${browser.name}/${browser.version}`,\n                        osName: os.name,\n                        osVersion: os.version,\n                        deviceModel: '',\n                    }\n                };\n                this.request({ method, params });\n                this.clearTimer();\n                this.keepAliveInterval = window.setInterval(() => {\n                    this.request({\n                        method: 'CnL.KeepAlive'\n                    });\n                }, 50000);\n                resolve(true);\n            };\n            this.ws.onerror = () => {\n                this.clearTimer();\n            };\n            this.ws.onclose = () => {\n                this.clearTimer();\n            };\n            this.ws.onmessage = (evt) => {\n                const data = JSON.parse(evt.data);\n                if (data.method === 'CnL.Push') {\n                    this.setLevel(data.params.config.log_level);\n                }\n            };\n        });\n    }\n    request(body, isLog = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.ws) {\n                return;\n            }\n            const method = body.method;\n            const params = body.params;\n            if (method === 'CnL.Log') {\n                const level = params.logs[0].level;\n                if (LogLevel[level] < this.logLevelNumber) {\n                    return;\n                }\n            }\n            const id = indexer.get().toString();\n            let stringified = '';\n            if (!isLog) {\n                stringified = JSON.stringify(jsonrpc.request(id, method, params));\n            }\n            else {\n                stringified = JSON.stringify(jsonrpc.notification(method, params));\n            }\n            if (this.ws.readyState !== this.ws.CONNECTING) {\n                if (this.ws.readyState !== this.ws.CLOSED && this.ws.readyState !== this.ws.CLOSING) {\n                    this.ws.send(stringified);\n                }\n                else {\n                    this.ws.close();\n                    yield this.createWebSocket(this.host, this.token);\n                    this.ws.send(stringified);\n                }\n            }\n            else {\n                const timer = window.setInterval(() => {\n                    var _a, _b, _c;\n                    if (((_a = this.ws) === null || _a === void 0 ? void 0 : _a.readyState) === ((_b = this.ws) === null || _b === void 0 ? void 0 : _b.OPEN)) {\n                        window.clearInterval(timer);\n                        (_c = this.ws) === null || _c === void 0 ? void 0 : _c.send(stringified);\n                    }\n                }, 10);\n            }\n        });\n    }\n    clearTimer() {\n        window.clearInterval(this.keepAliveInterval);\n        this.keepAliveInterval = -1;\n    }\n    close() {\n        var _a;\n        (_a = this.ws) === null || _a === void 0 ? void 0 : _a.close();\n        this.ws = null;\n        this.logLevelNumber = 0;\n    }\n    setLevel(logLevel) {\n        this.logLevelNumber = LogLevel[logLevel];\n    }\n}\n","import { LogSender } from './log-send';\nimport { SDK_VERSION } from '../config';\n/*\ntrace : 서버 req/res\ndebug : client 생성 정보, offer/answer,\ninfo : 메서드 call 정보\n//warn : 카메라 권한 에러, 음... 그 외 서비스가 멈추지 않아도 되는 에러는??\nerror : 서버 에러, 그 외 모든 에러\n*/\nexport const loggerSender = new LogSender();\nconst LogLevel = {\n    trace: 0,\n    debug: 1,\n    info: 2,\n    error: 3,\n    off: 4,\n};\nconst toNowDateString = () => {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = now.getMonth() + 1;\n    const date = now.getDate();\n    const hour = now.getHours();\n    const min = now.getMinutes();\n    const sec = now.getSeconds();\n    const millisecond = now.getMilliseconds();\n    return `${year}.${month >= 10 ? month : '0' + month}.${date >= 10 ? date : '0' + date} `\n        + `${hour >= 10 ? hour : '0' + hour}:${min >= 10 ? min : '0' + min}:${sec >= 10 ? sec : '0' + sec}.${millisecond}`;\n};\nconst toISOString = () => {\n    const now = new Date();\n    return now.toISOString();\n};\nconst toMsgString = (msg, level) => {\n    const log = msg.map((log) => {\n        if (typeof log === 'object') {\n            log = JSON.stringify(log);\n        }\n        return log;\n    }).join(' ');\n    const method = 'CnL.Log';\n    const params = {\n        sdkVersion: 'web_' + SDK_VERSION,\n        logs: [{\n                date: toISOString(),\n                level: level,\n                message: log\n            }]\n    };\n    loggerSender.request({ method, params }, true);\n    return log;\n};\n;\nexport const logger = {\n    logLevelNumber: 0,\n    setLevel(logLevel) {\n        this.logLevelNumber = LogLevel[logLevel];\n    },\n    trace(...msg) {\n        if (this.logLevelNumber <= LogLevel.trace) {\n            console.log(`[TRACE] [${toNowDateString()}]`, toMsgString(msg, 'trace'));\n        }\n        else {\n            toMsgString(msg, 'trace');\n        }\n    },\n    debug(...msg) {\n        if (this.logLevelNumber <= LogLevel.debug) {\n            console.log(`[DEBUG] [${toNowDateString()}]`, toMsgString(msg, 'debug'));\n        }\n        else {\n            toMsgString(msg, 'debug');\n        }\n    },\n    info(...msg) {\n        if (this.logLevelNumber <= LogLevel.info) {\n            console.log(`[INFO] [${toNowDateString()}]`, toMsgString(msg, 'information'));\n        }\n        else {\n            toMsgString(msg, 'information');\n        }\n    },\n    error(...msg) {\n        if (this.logLevelNumber <= LogLevel.error) {\n            console.error(`[ERROR] [${toNowDateString()}]`, toMsgString(msg, 'error'));\n        }\n        else {\n            toMsgString(msg, 'error');\n        }\n    }\n};\nexport const Loggable = (level) => {\n    return (target, propertyKey, descriptor) => {\n        const originalMethod = descriptor.value;\n        descriptor.value = function (...args) {\n            let log = '';\n            try {\n                log = '[method][' + target.constructor.name + '.' + propertyKey + ']' + ' arguments = ' + JSON.stringify(args);\n            }\n            catch (err) {\n                const message = err.message;\n                log = '[method][' + target.constructor.name + '.' + propertyKey + ']' + ' arguments = ' + message;\n            }\n            logger[level](log);\n            return originalMethod.apply(this, args);\n        };\n        return descriptor;\n    };\n};\n","class ErrorExecption extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ErrorExecption.prototype);\n    }\n    getCode() {\n        return this.code;\n    }\n    getMessage() {\n        return this.message;\n    }\n}\nclass ServerError extends ErrorExecption {\n    constructor(code, message) {\n        super(code, message);\n        this.name = 'ServerError';\n    }\n}\nexport { ServerError };\nclass ClientError extends ErrorExecption {\n    constructor(code, message) {\n        super(code, message);\n        this.name = 'ClientError';\n    }\n}\nexport { ClientError };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as jsonrpc from 'jsonrpc-lite';\nimport { indexer } from './indexer';\nimport { logger } from './logger';\nimport { ServerError } from './error-exception';\nexport class HttpWithJSONRpc {\n    constructor() {\n        this.headers = {};\n        this.host = '';\n    }\n    setHost(host) {\n        this.host = host;\n    }\n    setHeaders(headers) {\n        this.headers = headers;\n    }\n    request(body, options = {}) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { method, params } = body;\n            const { httpMethod = 'post', path = '' } = options;\n            const id = indexer.get().toString();\n            const stringified = JSON.stringify(jsonrpc.request(id, method, params));\n            const url = this.host + path;\n            logger.trace(`[${method}] ${stringified}`);\n            const res = yield fetch(url, Object.assign(Object.assign({}, this.headers), { method: httpMethod, body: stringified }));\n            const data = (yield res.json());\n            //const data = await res.json();\n            if (method !== 'Provision' && method !== 'ExtendTTL') {\n                if ('error' in data) {\n                    logger.error(data);\n                    const error = new ServerError(data.error.code, data.error.message);\n                    throw error;\n                }\n            }\n            logger.trace(`[RESULT] ${JSON.stringify(data)}`);\n            return data;\n        });\n    }\n}\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { PROVISIONING_SERVER_URL } from '../../config';\nimport { hash } from '../../utils/hash';\nimport { HttpWithJSONRpc } from '../../utils/http-with-json-rpc';\nimport { Loggable, logger } from '../../utils/logger';\nimport { ServerError } from '../../utils/error-exception';\nexport class AuthApiClient extends HttpWithJSONRpc {\n    constructor() {\n        super();\n        this.setHeaders({ method: 'post', headers: { 'Content-Type': 'application/json' } });\n    }\n    authorize(authConfig) {\n        const host = authConfig.host || PROVISIONING_SERVER_URL;\n        this.setHost(host + '/api/v1/rpc');\n        if (!('token' in authConfig))\n            return this.internally(authConfig);\n        else if (('token' in authConfig))\n            return this.externally(authConfig);\n        throw new Error('Provisioning type mismatch');\n    }\n    ;\n    refreshToken(oldToken) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'ExtendTTL';\n            const params = { token: oldToken };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                logger.error(response);\n                const error = new ServerError(response.error.code, response.error.message);\n                throw error;\n            }\n            const { result } = response;\n            return result;\n        });\n    }\n    ;\n    internally(config) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { serviceId, serviceKey, secret } = config;\n            const scheme = 'internal';\n            const method = 'Provision';\n            const firstParams = { scheme, serviceId };\n            const firstResponse = yield this.request({\n                method,\n                params: firstParams,\n            });\n            if ('result' in firstResponse) {\n                logger.error(firstResponse);\n                throw new Error('Provisioning Failed');\n            }\n            if (!('data' in firstResponse.error)) {\n                logger.error(firstResponse);\n                const error = new ServerError(firstResponse.error.code, firstResponse.error.message);\n                throw error;\n            }\n            const { nonce } = firstResponse.error.data;\n            const ha = yield hash([serviceId, serviceKey, secret].join(':'));\n            const value = yield hash([ha, nonce].join(':'));\n            const secondParams = {\n                serviceId,\n                scheme,\n                auth: {\n                    nonce,\n                    key: serviceKey,\n                    value,\n                },\n            };\n            const secondResponse = yield this.request({ method, params: secondParams });\n            if ('error' in secondResponse) {\n                logger.error(secondResponse);\n                const error = new ServerError(secondResponse.error.code, secondResponse.error.message);\n                throw error;\n            }\n            const { result } = secondResponse;\n            return result;\n        });\n    }\n    ;\n    externally(config) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const { token, serviceId } = config;\n            const scheme = 'external';\n            const method = 'Provision';\n            const params = { serviceId, scheme, auth: { value: token } };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                logger.error(response);\n                const error = new ServerError(response.error.code, response.error.message);\n                throw error;\n            }\n            const { result } = response;\n            return result;\n        });\n    }\n    ;\n}\n__decorate([\n    Loggable('info')\n], AuthApiClient.prototype, \"authorize\", null);\n__decorate([\n    Loggable('info')\n], AuthApiClient.prototype, \"refreshToken\", null);\n__decorate([\n    Loggable('info')\n], AuthApiClient.prototype, \"internally\", null);\n__decorate([\n    Loggable('info')\n], AuthApiClient.prototype, \"externally\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { HttpWithJSONRpc } from '../../utils/http-with-json-rpc';\nimport userAgentParser from '../../utils/user-agent';\nimport { SDK_VERSION } from '../../config';\nimport { Loggable } from '../../utils/logger';\nexport class RoomApiClient extends HttpWithJSONRpc {\n    constructor(audioOption) {\n        super();\n        this.audioOption = 1;\n        this.audioOption = audioOption;\n    }\n    setRoomId(roomId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.roomId = roomId;\n        });\n    }\n    ;\n    setParticipantId(participantId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.participantId = participantId;\n        });\n    }\n    ;\n    sendEnterRoom() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const os = userAgentParser.getOS();\n            const browser = userAgentParser.getBrowser();\n            const method = 'Conference.EnterRoom';\n            const params = {\n                roomId: this.roomId,\n                userInfo: {\n                    sdkVersion: SDK_VERSION,\n                    platform: 'web',\n                    platformVersion: `${browser.name}/${browser.version}`,\n                    osName: os.name,\n                    osVersion: os.version,\n                    deviceModel: '',\n                }\n            };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                throw new Error(JSON.stringify(response.error));\n            }\n            this.sign = response.result.sign;\n            return response;\n        });\n    }\n    ;\n    sendCreateSession(direction, index, sdp) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.CreateSession';\n            const params = {\n                roomId: this.roomId,\n                participantId: this.participantId,\n                sign: this.sign,\n                direction,\n                index,\n                desc: sdp,\n                audioOption: this.audioOption\n            };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                throw new Error(JSON.stringify(response.error));\n            }\n            return response;\n        });\n    }\n    ;\n    sendAddCandidate(direction, index, candidate) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.AddCandidate';\n            const params = {\n                roomId: this.roomId,\n                participantId: this.participantId,\n                sign: this.sign,\n                direction,\n                index,\n                candidate,\n            };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                throw new Error(JSON.stringify(response.error));\n            }\n            return response;\n        });\n    }\n    ;\n    //Conference.RestartIce도 sign이 들어가는지 확인 필요\n    sendRestartIce(direction, index, sdp) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.RestartIce';\n            const params = {\n                roomId: this.roomId,\n                participantId: this.participantId,\n                sign: this.sign,\n                direction,\n                index,\n                desc: sdp\n            };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                throw new Error(JSON.stringify(response.error));\n            }\n            return response;\n        });\n    }\n    ;\n    sendDestroySession(direction, index) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.DestroySession';\n            const params = {\n                roomId: this.roomId,\n                participantId: this.participantId,\n                sign: this.sign,\n                direction,\n                index,\n            };\n            const response = yield this.request({ method, params });\n            if ('error' in response) {\n                throw new Error(JSON.stringify(response.error));\n            }\n            return response;\n        });\n    }\n    ;\n}\n__decorate([\n    Loggable('info')\n], RoomApiClient.prototype, \"setRoomId\", null);\n__decorate([\n    Loggable('info')\n], RoomApiClient.prototype, \"setParticipantId\", null);\n__decorate([\n    Loggable('info')\n], RoomApiClient.prototype, \"sendEnterRoom\", null);\n__decorate([\n    Loggable('debug')\n], RoomApiClient.prototype, \"sendCreateSession\", null);\n__decorate([\n    Loggable('debug')\n], RoomApiClient.prototype, \"sendAddCandidate\", null);\n__decorate([\n    Loggable('debug')\n], RoomApiClient.prototype, \"sendRestartIce\", null);\n__decorate([\n    Loggable('info')\n], RoomApiClient.prototype, \"sendDestroySession\", null);\n","import EventEmitter from 'eventemitter3';\nimport * as jsonrpc from 'jsonrpc-lite';\nimport { indexer } from './indexer';\nexport class JSONRpc {\n    constructor() {\n        this.emitter = new EventEmitter();\n        this.methodMap = new Map();\n        this.toStream = () => console.warn('Please set toStream function!');\n    }\n    /**\n     * handle stringified message.\n     * parse -> emit\n     */\n    handleMessage(stringified) {\n        const parsedObjects = jsonrpc.parse(stringified);\n        const isArray = Array.isArray(parsedObjects);\n        const handleParsedObject = (parsedObject) => {\n            const { payload } = parsedObject;\n            const hasId = 'id' in payload;\n            const hasMethod = 'method' in payload;\n            if (hasId && !hasMethod) {\n                // = success or error\n                const id = String(payload.id);\n                const method = this.methodMap.get(id);\n                this.emitter.emit(id, payload);\n                // FIXME: 아래 꼭 필요한건지 확인할 필요 있음\n                if (method)\n                    this.emitter.emit(method, payload);\n                return;\n            }\n            if (hasMethod && !hasId) {\n                // = notification\n                const method = payload.method;\n                return this.emitter.emit(method, payload);\n            }\n            console.error('invalid message', parsedObject);\n        };\n        if (!isArray) {\n            handleParsedObject(parsedObjects);\n        }\n        else {\n            parsedObjects.forEach(handleParsedObject);\n        }\n    }\n    /**\n     * Send json rpc message by using `toStream` function,\n     * and receive result\n     */\n    call(method, params) {\n        return new Promise(resolve => {\n            const id = indexer.get().toString();\n            this.methodMap.set(id, method);\n            this.emitter.once(id, resolve);\n            const requestObject = jsonrpc.request(id, method, params);\n            this.toStream(requestObject);\n        });\n    }\n    on(method, callback) {\n        this.emitter.on(method, callback);\n    }\n    off(method, callback) {\n        this.emitter.off(method, callback);\n    }\n}\n","export const noop = () => null;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport EventEmitter from 'eventemitter3';\nimport { JSONRpc } from '../../utils/json-rpc';\nimport { Loggable, logger } from '../../utils/logger';\nimport { noop } from '../../utils/noop';\nimport userAgentParser from '../../utils/user-agent';\nimport { ClientError } from '../../utils/error-exception';\nconst browser = userAgentParser.getBrowser();\nexport class Session {\n    constructor(apiClient, direction, config) {\n        this.restartIceInterval = -1;\n        this.config = {\n            cpuOveruseDetection: true,\n            maxFramerate: {\n                l: 10,\n                m: 20,\n                h: 30\n            }\n        };\n        this.emitter = new EventEmitter();\n        this.jsonrpc = new JSONRpc();\n        this.roomApiClient = apiClient;\n        this.direction = direction;\n        this.index = 0;\n        Object.assign(this.config, config);\n        this.jsonrpc.toStream = message => {\n            if (this.dataChannel && this.dataChannel.readyState === 'open') {\n                logger.trace(`[${this.direction}] [SEND]`, message);\n                this.dataChannel.send(JSON.stringify(message));\n            }\n        };\n    }\n    create(rtcConfig) {\n        return new Promise((resolve, reject) => {\n            // TODO: 이벤트 네이밍 규칙적으로 설정하기\n            this.emitter.once('SessionCreated', () => {\n                resolve();\n            });\n            try {\n                this.createPeerConnection(rtcConfig);\n                this.createDataChannel();\n            }\n            catch (err) {\n                const message = err.message;\n                reject(new ClientError(0, message));\n            }\n        });\n    }\n    destroy() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.peerConnection.close();\n            this.dataChannel.close();\n            yield this.roomApiClient.sendDestroySession(this.direction, this.index);\n        });\n    }\n    on(name, callback) {\n        this.emitter.on(name, callback);\n    }\n    off(name, callback) {\n        this.emitter.off(name, callback);\n    }\n    createPeerConnection(rtcConfig) {\n        if (this.peerConnection)\n            this.peerConnection.close();\n        const _rtcConfig = Object.assign(Object.assign({}, rtcConfig), { bundlePolicy: 'max-bundle', iceTransportPolicy: 'all', rtcpMuxPolicy: 'require', iceCandidatePoolSize: 0, sdpSemantics: 'unified-plan', extmapAllowMixed: true });\n        const opt = {\n            optional: [\n                //{ googHighStartBitrate: 0 }, //실제로 의미가 있는가?\n                //{ googPayloadPadding: true }, //추천하지 않음\n                //{ googScreencastMinBitrate: 100 }, //의미없음\n                { enableDscp: true }\n            ]\n        };\n        if (this.config.cpuOveruseDetection) {\n            opt.optional.push({ googCpuOveruseDetection: true });\n            opt.optional.push({ googCpuOveruseEncodeUsage: true });\n            opt.optional.push({ googCpuUnderuseThreshold: 55 });\n            opt.optional.push({ googCpuOveruseThreshold: 85 });\n        }\n        else {\n            opt.optional.push({ googCpuOveruseDetection: false });\n        }\n        /* @ts-ignore */\n        this.peerConnection = new RTCPeerConnection(_rtcConfig, opt);\n        logger.debug(`[${this.direction}] peerConnection = ${JSON.stringify(_rtcConfig)}`);\n        this.peerConnection.onicecandidate = ice => {\n            if (ice.candidate) {\n                //if(ice.candidate.candidate) {\n                this.roomApiClient.sendAddCandidate(this.direction, this.index, ice.candidate);\n                logger.debug(`[${this.direction}] candidate = ${JSON.stringify(ice.candidate)}`);\n                //}\n            }\n        };\n        this.peerConnection.onnegotiationneeded = () => __awaiter(this, void 0, void 0, function* () {\n            logger.debug(`[${this.direction}] onnegotiationneeded`);\n            try {\n                const offer = yield this.peerConnection.createOffer();\n                yield this.peerConnection.setLocalDescription(offer);\n                logger.debug(`[${this.direction}] create offer = ${JSON.stringify(offer)}`);\n                const res = yield this.roomApiClient.sendCreateSession(this.direction, this.index, offer);\n                const answer = new RTCSessionDescription(res.result.desc);\n                yield this.peerConnection.setRemoteDescription(answer);\n                logger.debug(`[${this.direction}] receive answer = ${JSON.stringify(answer)}`);\n            }\n            catch (err) {\n                const message = err.message;\n                logger.error(`[${this.direction}] onnegotiationneeded = ${message}`);\n            }\n        });\n        this.peerConnection.onconnectionstatechange = (event) => __awaiter(this, void 0, void 0, function* () {\n            logger.debug(`[${this.direction}] onconnectionstatechange = ${event.target.connectionState}`);\n            this._restartIceTimerStop();\n            if (event.target.connectionState === 'disconnected') {\n                this._restartIceTimerStart();\n            }\n            else if (event.target.connectionState === 'failed') {\n                logger.error(`[${this.direction}] onconnectionstatechange = ${event.target.connectionState}`);\n                //연결 실패.\n                this.emitter.emit('error', 'connection failed');\n            }\n        });\n        this.peerConnection.oniceconnectionstatechange = (event) => {\n            logger.debug(`[${this.direction}] oniceconnectionstatechange = ${event.target.iceConnectionState}`);\n            if (browser.name === 'Firefox') {\n                this._restartIceTimerStop();\n                if (event.target.iceConnectionState === 'disconnected') {\n                    this._restartIceTimerStart();\n                }\n                else if (event.target.iceConnectionState === 'failed') {\n                    logger.error(`[${this.direction}] onconnectionstatechange = ${event.target.iceConnectionState}`);\n                    //연결 실패.\n                    this.emitter.emit('error', 'connection failed');\n                }\n            }\n            ;\n        };\n        this.peerConnection.ontrack = noop;\n    }\n    createDataChannel() {\n        if (this.dataChannel)\n            this.dataChannel.close();\n        this.dataChannel = this.peerConnection.createDataChannel(this.direction);\n        this.dataChannel.onopen = () => {\n            logger.debug(`[${this.direction}] dataChannel is opened`);\n        };\n        this.dataChannel.onclose = () => {\n            logger.debug(`[${this.direction}] dataChannel is closed`);\n        };\n        this.dataChannel.onerror = (evt) => {\n            let error = evt.error;\n            logger.error(`[${this.direction}] dataChannel occurred error. reason=${JSON.stringify(error)}`);\n        };\n        this.dataChannel.onmessage = (event) => __awaiter(this, void 0, void 0, function* () {\n            const message = yield new Response(event.data).text();\n            logger.trace(`[${this.direction}] [RECEIVE] dataChannel.onmessage = ${message}`);\n            this.jsonrpc.handleMessage(message);\n        });\n    }\n    _restartIceTimerStart() {\n        this.restartIceInterval = window.setInterval(() => {\n            if (navigator.onLine) {\n                this._restartIceTimerStop();\n                this._restartIce();\n            }\n        }, 100);\n    }\n    _restartIceTimerStop() {\n        window.clearInterval(this.restartIceInterval);\n        this.restartIceInterval = -1;\n    }\n    _restartIce() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const offer = yield this.peerConnection.createOffer({ iceRestart: true });\n                yield this.peerConnection.setLocalDescription(offer);\n                logger.debug(`[${this.direction}](RestartICE) create offer = ${JSON.stringify(offer)}`);\n                const res = yield this.roomApiClient.sendRestartIce(this.direction, this.index, offer);\n                const answer = new RTCSessionDescription(res.result.desc);\n                yield this.peerConnection.setRemoteDescription(answer);\n                logger.debug(`[${this.direction}](RestartICE) receive answer = ${JSON.stringify(answer)}`);\n            }\n            catch (err) {\n                const message = err.message;\n                logger.error(`[${this.direction}](RestartICE) onconnectionstatechange = ${message}`);\n            }\n        });\n    }\n}\n__decorate([\n    Loggable('info')\n], Session.prototype, \"create\", null);\n__decorate([\n    Loggable('info')\n], Session.prototype, \"destroy\", null);\n__decorate([\n    Loggable('info')\n], Session.prototype, \"createPeerConnection\", null);\n__decorate([\n    Loggable('info')\n], Session.prototype, \"createDataChannel\", null);\n__decorate([\n    Loggable('info')\n], Session.prototype, \"_restartIce\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Session } from './session';\nimport { indexer } from '../../utils/indexer';\nimport { Loggable, logger } from '../../utils/logger';\nimport { ClientError, ServerError } from '../../utils/error-exception';\n// NOTE: receiverId = transceiver.mid\nexport class DownSession extends Session {\n    constructor(roomApiClient, config) {\n        super(roomApiClient, 'down', config);\n        this.receiverTrackMap = {};\n        this.fixedAudioReceiver = []; //shared or exclusive\n        this.addListeners();\n    }\n    addListeners() {\n        this.jsonrpc.on('Conference.OnParticipantsInfo', notification => {\n            const { params } = notification;\n            this.emitter.emit('ChangedParticipantsInfo', params);\n        });\n        this.jsonrpc.on('Conference.OnOffer', notification => {\n            const { params } = notification;\n            // @NOTE: negotiationId가 (system)인 경우는, addStream 호출과 상관없이 세션 생성하자마자 내려오는 이벤트이다\n            this.emitter.emit(params.negotiationId, params);\n        });\n        this.jsonrpc.on('Conference.OnError', notification => {\n            const { params } = notification;\n            if (params.negotiationId) {\n                this.emitter.emit(params.negotiationId, params);\n            }\n        });\n        this.jsonrpc.on('Conference.OnMessage', notification => {\n            const { params } = notification;\n            this.emitter.emit(params.type, params.data);\n        });\n        this.jsonrpc.on('Conference.OnStreamChanged', notification => {\n            this.emitter.emit('StreamChanged', notification);\n        });\n        // 처음 room과 연결되면 OnOffer가 내려온다.\n        // FIXME: event name 및 로직 위치 이동(addReceiver와 같은 부분이기 때문)\n        this.emitter.on('(system)', (params) => __awaiter(this, void 0, void 0, function* () {\n            const { negotiationId, receivers, desc: offer } = params;\n            yield this.peerConnection.setRemoteDescription(offer);\n            const answer = yield this.peerConnection.createAnswer();\n            yield this.peerConnection.setLocalDescription(answer);\n            yield this.callSetAnswer({ negotiationId, desc: answer });\n            const transceivers = this.peerConnection.getTransceivers();\n            this.receiverTrackMap = transceivers.reduce((receiverTrackMap, transceiver) => {\n                const receiverId = transceiver.mid;\n                if (receiverId) {\n                    if (transceiver.receiver.track.kind === 'video') {\n                        receiverTrackMap[receiverId] = transceiver.receiver.track;\n                    }\n                }\n                return receiverTrackMap;\n            }, {});\n            this.fixedAudioReceiver = transceivers\n                .filter(receiverTrackMap => receiverTrackMap.receiver.track.kind === 'audio')\n                .map(transceiver => transceiver.receiver);\n            const payload = {\n                name: 'init',\n                receivers,\n            };\n            this.emitter.emit('UpdatedReceivers', payload);\n        }));\n    }\n    getTrack(receiverId) {\n        return this.receiverTrackMap[receiverId];\n    }\n    addReceiver(receivers) {\n        return new Promise((resolve, reject) => {\n            const negotiationId = indexer.get().toString();\n            this.emitter.once(negotiationId, (params) => __awaiter(this, void 0, void 0, function* () {\n                if ('code' in params) {\n                    logger.error(params);\n                    const error = new ServerError(params.code, params.message);\n                    return reject(error);\n                }\n                try {\n                    const { receivers, desc: offer } = params;\n                    yield this.peerConnection.setRemoteDescription(offer);\n                    const answer = yield this.peerConnection.createAnswer();\n                    yield this.peerConnection.setLocalDescription(answer);\n                    yield this.callSetAnswer({ negotiationId, desc: answer });\n                    // update receivers\n                    const transceivers = this.peerConnection.getTransceivers();\n                    transceivers.reduce((receiverTrackMap, transceiver) => {\n                        const receiverId = transceiver.mid;\n                        const addReceiver = receivers.find(receiver => receiver.receiverId === receiverId);\n                        if (addReceiver) {\n                            if (transceiver.receiver.track.kind === 'video') {\n                                this.receiverTrackMap[addReceiver.receiverId] = transceiver.receiver.track;\n                            }\n                        }\n                        return receiverTrackMap;\n                    }, {});\n                    const payload = {\n                        name: 'add',\n                        receivers,\n                    };\n                    this.emitter.emit('UpdatedReceivers', payload);\n                    resolve();\n                }\n                catch (err) {\n                    const message = err.message;\n                    reject(new ClientError(0, message));\n                }\n            }));\n            try {\n                this.callAddReceiver({ negotiationId, receivers });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    getFixedAudioReceiver() {\n        return this.fixedAudioReceiver;\n    }\n    // TODO: 뭔가 어려워보이니 일단 두고보기\n    // configureReceiver(){}\n    // 실제로 사용되지 않는다.\n    removeReceiver(receiverIds) {\n        return new Promise((resolve, reject) => {\n            const negotiationId = indexer.get().toString();\n            const receivers = receiverIds.map(receiverId => ({ receiverId }));\n            this.emitter.once(negotiationId, (params) => __awaiter(this, void 0, void 0, function* () {\n                if ('code' in params) {\n                    logger.error(params);\n                    const error = new ServerError(params.code, params.message);\n                    return reject(error);\n                }\n                try {\n                    const { receivers, desc: offer } = params;\n                    yield this.peerConnection.setRemoteDescription(offer);\n                    const answer = yield this.peerConnection.createAnswer();\n                    yield this.peerConnection.setLocalDescription(answer);\n                    yield this.callSetAnswer({ negotiationId, desc: answer });\n                    const transceivers = this.peerConnection.getTransceivers();\n                    this.receiverTrackMap = transceivers.reduce((receiverTrackMap, transceiver) => {\n                        const receiverId = transceiver.mid;\n                        if (receiverId) {\n                            if (transceiver.receiver.track.kind === 'video') {\n                                receiverTrackMap[receiverId] = transceiver.receiver.track;\n                            }\n                        }\n                        return receiverTrackMap;\n                    }, {});\n                    const payload = {\n                        name: 'remove',\n                        receivers,\n                    };\n                    this.emitter.emit('UpdatedReceivers', payload);\n                    resolve();\n                }\n                catch (err) {\n                    const message = err.message;\n                    reject(new ClientError(0, message));\n                }\n            }));\n            try {\n                this.callRemoveReceiver({ negotiationId, receivers });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    assignStream(receivers) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.callAssignStream({ receivers });\n        });\n    }\n    configureReceiver(receivers) {\n        return this._callConfigureReceiver({ receivers });\n    }\n    callAddReceiver(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.AddReceiver';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    callRemoveReceiver(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.RemoveReceiver';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    callSetAnswer(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.SetAnswer';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    callAssignStream(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.AssignStream';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    _callConfigureReceiver(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.ConfigureReceiver';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n}\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"addListeners\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"getTrack\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"addReceiver\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"removeReceiver\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"assignStream\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"configureReceiver\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"callAddReceiver\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"callRemoveReceiver\", null);\n__decorate([\n    Loggable('debug')\n], DownSession.prototype, \"callSetAnswer\", null);\n__decorate([\n    Loggable('info')\n], DownSession.prototype, \"callAssignStream\", null);\n__decorate([\n    Loggable('debug')\n], DownSession.prototype, \"_callConfigureReceiver\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Session } from './session';\nimport { indexer } from '../../utils/indexer';\nimport { Loggable, logger } from '../../utils/logger';\nimport { ClientError, ServerError } from '../../utils/error-exception';\n// @FIXME: event emit/on 시 name 규칙 정하기\nexport class UpSession extends Session {\n    constructor(roomApiClient, config) {\n        super(roomApiClient, 'up', config);\n        this.streamIdMidMap = {};\n        this.addListeners();\n    }\n    /**\n     * 송출 스트림 등록 요청 API. 송출 스트림은 Audio, Video 총 2개를 조합으로 요청할 수 있다.\n     */\n    addStream({ audioType, audioTrack, audioExtraValue, videoType, localVideo, videoExtraValue, videoHd, record }) {\n        return new Promise((resolve, reject) => {\n            const negotiationId = indexer.get().toString();\n            this.emitter.once(negotiationId, (params) => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                if ('code' in params) {\n                    logger.error(params);\n                    const error = new ServerError(params.code, params.message);\n                    return reject(error);\n                }\n                try {\n                    const { desc: offer, audio: audioOffer, video: videoOffer } = params;\n                    // 1. setRemoteDescription\n                    yield this.peerConnection.setRemoteDescription(offer);\n                    // 2. replace tracks\n                    audioOffer && (yield this._replaceAudioTrack(audioOffer, audioTrack));\n                    videoOffer && (yield this._replaceVideoTrack(videoOffer, localVideo));\n                    // 3. createAnswer & setLocalDescription\n                    const answer = yield this.peerConnection.createAnswer();\n                    yield this.peerConnection.setLocalDescription(answer);\n                    // 4. if multiple, set profiles equally\n                    //if (videoOffer && videoOffer.type === 'multiple') {\n                    if (videoOffer) {\n                        this._setVideoProfiles(videoOffer);\n                    }\n                    // 5. call setAnswer\n                    yield this._callSetAnswer({ negotiationId, desc: answer });\n                    // 6. save streamId : mid data\n                    // Q. type이 none일 때, streamId와 mid는 어떻게 나타날까?\n                    if (audioOffer && audioOffer.type !== 'none') {\n                        const prev = (_a = this.streamIdMidMap[audioOffer.streamId]) !== null && _a !== void 0 ? _a : {};\n                        this.streamIdMidMap[audioOffer.streamId] = Object.assign(Object.assign({}, prev), { default: audioOffer.mid });\n                    }\n                    if (videoOffer && videoOffer.type !== 'none') {\n                        videoOffer.profiles.forEach(p => {\n                            var _a;\n                            const prev = (_a = this.streamIdMidMap[videoOffer.streamId]) !== null && _a !== void 0 ? _a : {};\n                            this.streamIdMidMap[videoOffer.streamId] = Object.assign(Object.assign({}, prev), { [p.profile]: p.mid });\n                        });\n                    }\n                    // finally, resolve\n                    resolve({ audioOffer, videoOffer });\n                }\n                catch (err) {\n                    const message = err.message;\n                    reject(new ClientError(0, message));\n                }\n            }));\n            try {\n                this._callAddStream({\n                    negotiationId,\n                    audio: { type: audioType, extraValue: audioExtraValue },\n                    video: { type: videoType, extraValue: videoExtraValue, hd: videoHd },\n                    record\n                });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    /**\n     * 송출 스트림 속성 변경 API.\n     */\n    configureStream(streams) {\n        try {\n            return this._callConfigureStream({ streams });\n        }\n        catch (err) {\n            throw err;\n        }\n    }\n    removeStream(streamIds) {\n        return new Promise((resolve, reject) => {\n            const negotiationId = indexer.get().toString();\n            const streams = streamIds.map(streamId => ({ streamId }));\n            this.emitter.once(negotiationId, (params) => __awaiter(this, void 0, void 0, function* () {\n                if ('code' in params) {\n                    logger.error(params);\n                    const error = new ServerError(params.code, params.message);\n                    return reject(error);\n                }\n                try {\n                    const { desc: offer } = params;\n                    // 1. setRemoteDescription\n                    yield this.peerConnection.setRemoteDescription(offer);\n                    // 2. remove tracks\n                    this._removeTracks(streamIds);\n                    // 3. createAnswer & setLocalDescription\n                    const answer = yield this.peerConnection.createAnswer();\n                    yield this.peerConnection.setLocalDescription(answer);\n                    // 4. call setAnswer\n                    yield this._callSetAnswer({ negotiationId, desc: answer });\n                    // finally, resolve\n                    resolve();\n                }\n                catch (err) {\n                    const message = err.message;\n                    reject(new ClientError(0, message));\n                }\n            }));\n            try {\n                this._callRemoveStream({ negotiationId, streams });\n            }\n            catch (err) {\n                reject(err);\n            }\n        });\n    }\n    addListeners() {\n        this.jsonrpc.on('Conference.OnOffer', notification => {\n            const { params } = notification;\n            this.emitter.emit(params.negotiationId, params);\n        });\n        this.jsonrpc.on('Conference.OnError', notification => {\n            const { params } = notification;\n            if (params.negotiationId) {\n                this.emitter.emit(params.negotiationId, params);\n            }\n        });\n        this.jsonrpc.on('Conference.OnMessage', notification => {\n            const { params } = notification;\n            this.emitter.emit(params.type, params.data);\n        });\n        this.jsonrpc.on('Conference.OnProfile', notification => {\n            const { params } = notification;\n            this._replaceVideoProfiles(params.streams);\n        });\n    }\n    _callAddStream(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.AddStream';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    _callSetAnswer(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.SetAnswer';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    _callConfigureStream(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.ConfigureStream';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    _callRemoveStream(params) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const method = 'Conference.RemoveStream';\n            const result = yield this.jsonrpc.call(method, params);\n            if ('error' in result) {\n                throw new ServerError(result.error.code, result.error.message);\n            }\n            return result;\n        });\n    }\n    _replaceAudioTrack(audioOffer, audioTrack) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transceivers = this.peerConnection.getTransceivers();\n            const audioTransceiver = transceivers.find(t => t.mid === audioOffer.mid);\n            if (audioTrack && audioTransceiver) {\n                yield audioTransceiver.sender.replaceTrack(audioTrack);\n                audioTransceiver.direction = 'sendonly';\n            }\n        });\n    }\n    _replaceVideoTrack(videoOffer, localVideo) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const transceivers = this.peerConnection.getTransceivers();\n            for (const profile of videoOffer.profiles) {\n                const videoTransceiver = transceivers.find(t => t.mid === profile.mid);\n                if ((localVideo === null || localVideo === void 0 ? void 0 : localVideo.getMediaStreamTrack()) && videoTransceiver) {\n                    const cloneTrack = localVideo.getCloneTrack();\n                    yield videoTransceiver.sender.replaceTrack(cloneTrack);\n                    videoTransceiver.direction = 'sendonly';\n                }\n            }\n        });\n    }\n    /**\n     * multiple video 스트림의 profile 활성화 상태 통지.\n     * 활성화 상태의 기본은  l = 활성, m = 비활성, h = 비활성으로 한다.\n     * 이후 \"l\"  profile을 제외하고(\"l\" profile은 항상 활성 상태) 수신측의 profile 요청이 생기거나 없어져서 상태변경이 필요할때 통지한다.\n     * 대역폭을 효율적으로 사용하기 위해 클라이언트는 이 상태 값에 Tranceiver의 송출상태를 동기화하여 관리한다.\n     */\n    _replaceVideoProfiles(streams) {\n        const transceivers = this.peerConnection.getTransceivers();\n        streams.forEach(stream => {\n            stream.profiles.forEach(profile => {\n                const videoTransceiver = transceivers.find(t => t.mid === profile.mid);\n                if (videoTransceiver) {\n                    const params = videoTransceiver.sender.getParameters();\n                    params.encodings[0].active = profile.active;\n                    videoTransceiver.sender.setParameters(params);\n                }\n            });\n        });\n    }\n    _removeTracks(streamIds) {\n        const transceivers = this.peerConnection.getTransceivers();\n        streamIds.forEach(streamId => {\n            for (const name in this.streamIdMidMap[streamId]) {\n                const mid = this.streamIdMidMap[streamId][name];\n                const transceiver = transceivers.find(t => t.mid === mid);\n                if (transceiver) {\n                    this.peerConnection.removeTrack(transceiver.sender);\n                    delete this.streamIdMidMap[streamId][name];\n                }\n            }\n        });\n    }\n    /**\n     * MultipleVideoStream의 경우 SDP Answer 생성 뒤\n     * Transceiver.sender의 bitrate 파라미터를 OnOffer의 profiles내 정보와 동일하게 세팅해야 한다.\n     */\n    _setVideoProfiles(videoOffer) {\n        var _a, _b, _c;\n        const transceivers = this.peerConnection.getTransceivers();\n        for (const profile of videoOffer.profiles) {\n            const videoTransceiver = transceivers.find(t => t.mid === profile.mid);\n            if (videoTransceiver) {\n                const params = videoTransceiver.sender.getParameters();\n                const active = profile.active;\n                //const active = profile.profile === 'l';\n                const maxBitrate = Number(profile.bitrate);\n                const maxFramerate = profile.profile === 'l' ? (_a = this.config.maxFramerate) === null || _a === void 0 ? void 0 : _a.l : profile.profile === 'm' ? (_b = this.config.maxFramerate) === null || _b === void 0 ? void 0 : _b.m : (_c = this.config.maxFramerate) === null || _c === void 0 ? void 0 : _c.h;\n                const scaleResolutionDownBy = profile.profile === 'l' ? 3.0 : profile.profile === 'm' ? 2.0 : undefined;\n                // @ts-ignore\n                params.encodings = [{ active, maxBitrate, maxFramerate }];\n                videoTransceiver.sender.setParameters(params);\n            }\n        }\n    }\n}\n__decorate([\n    Loggable('info')\n], UpSession.prototype, \"addStream\", null);\n__decorate([\n    Loggable('info')\n], UpSession.prototype, \"configureStream\", null);\n__decorate([\n    Loggable('info')\n], UpSession.prototype, \"removeStream\", null);\n__decorate([\n    Loggable('info')\n], UpSession.prototype, \"addListeners\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_callAddStream\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_callSetAnswer\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_callConfigureStream\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_callRemoveStream\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_replaceAudioTrack\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_replaceVideoTrack\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_replaceVideoProfiles\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_removeTracks\", null);\n__decorate([\n    Loggable('debug')\n], UpSession.prototype, \"_setVideoProfiles\", null);\n","export const some = (object, fn) => {\n    for (const key in object) {\n        if (fn(object[key]))\n            return true;\n    }\n    return false;\n};\nexport const filterToArray = (object, fn) => {\n    const filtered = [];\n    for (const key in object) {\n        if (fn(object[key]))\n            filtered.push(object[key]);\n    }\n    return filtered;\n};\nexport const filter = (object, fn) => {\n    const filtered = {};\n    for (const key in object) {\n        if (fn(object[key]))\n            filtered[key] = object[key];\n    }\n    return filtered;\n};\nexport const size = (object) => {\n    return Object.keys(object).length;\n};\nexport const objectToArray = (object) => {\n    return Object.values(object);\n};\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Loggable } from \"../../utils/logger\";\nexport class Remote {\n    constructor() {\n        this.extraValue = '';\n        this.participantId = '';\n    }\n    getParticipantId() {\n        return this.participantId;\n    }\n    getExtraValue() {\n        return this.extraValue;\n    }\n    _setExtraValue(extraValue = '') {\n        this.extraValue = extraValue;\n    }\n    _setParticipantId(participantId) {\n        this.participantId = participantId;\n    }\n}\n__decorate([\n    Loggable('info')\n], Remote.prototype, \"getParticipantId\", null);\n__decorate([\n    Loggable('info')\n], Remote.prototype, \"getExtraValue\", null);\n__decorate([\n    Loggable('info')\n], Remote.prototype, \"_setExtraValue\", null);\n__decorate([\n    Loggable('debug')\n], Remote.prototype, \"_setParticipantId\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Loggable } from '../../utils/logger';\nimport { Remote } from './remote';\nexport class RemoteVideo extends Remote {\n    constructor(stream, participant) {\n        super();\n        this.type = 'none';\n        this.extraValue = '';\n        this.videoId = -1;\n        this.receiverId = '';\n        this.participantId = '';\n        this.paused = false; //내가 수신하지 않음\n        this.active = true; //해당 참여자가 자신의 비디오의 active를 변경함\n        this.profile = 'l';\n        this.statusUpdateFn = () => Promise.resolve();\n        this.videoId = stream.streamId;\n        this.videoElements = [];\n        this.type = stream.type;\n        this.extraValue = stream.extraValue || '';\n        this.participantId = participant.id;\n    }\n    get isEnabled() {\n        var _a;\n        return (_a = this.mediaStreamTrack) === null || _a === void 0 ? void 0 : _a.enabled;\n    }\n    setMediaStreamEnabled(enabled) {\n        if (this.mediaStreamTrack) {\n            this.mediaStreamTrack.enabled = enabled;\n        }\n    }\n    _setType(type) {\n        this.type = type;\n    }\n    _setRemoteTrack(mediaStreamTrack) {\n        this.mediaStreamTrack = mediaStreamTrack;\n    }\n    attach(element = undefined) {\n        if (!this.mediaStreamTrack) {\n            return;\n        }\n        let videoElement;\n        if (element) {\n            videoElement = element;\n        }\n        else {\n            videoElement = document.createElement('video');\n        }\n        const mediaStream = this.getMediaStream();\n        videoElement.srcObject = mediaStream ? mediaStream : null;\n        videoElement.autoplay = true;\n        videoElement.playsInline = true;\n        this.videoElements.push(videoElement);\n        return videoElement;\n    }\n    detach() {\n        this.videoElements.forEach(element => element.remove());\n        this.videoElements = [];\n    }\n    stop() {\n        var _a;\n        (_a = this.mediaStreamTrack) === null || _a === void 0 ? void 0 : _a.stop();\n    }\n    getMediaStreamTrack() {\n        return this.mediaStreamTrack;\n    }\n    getMediaStream() {\n        if (this.mediaStreamTrack) {\n            return new MediaStream([this.mediaStreamTrack]);\n        }\n    }\n    getVideoId() {\n        return this.videoId;\n    }\n    _setVideoId(streamId) {\n        this.videoId = streamId;\n    }\n    _setReceiverId(receiverId, statusUpdateFn) {\n        this.receiverId = receiverId;\n        this.statusUpdateFn = statusUpdateFn;\n    }\n    _setActive(enabled) {\n        this.active = enabled;\n    }\n    setPaused(enabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.mediaStreamTrack) {\n                enabled = typeof enabled === 'boolean' ? enabled : true;\n                this.paused = enabled;\n                if (enabled !== this.mediaStreamTrack.enabled) {\n                    this.mediaStreamTrack.enabled = enabled;\n                    yield this.statusUpdateFn({\n                        receiverId: this.receiverId,\n                        pause: enabled,\n                    });\n                }\n            }\n        });\n    }\n    setQuality(quality) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (quality !== 'l' && quality !== 'm' && quality !== 'h') {\n                throw new Error('quality value must be one of l, m, h');\n            }\n            if (quality) {\n                this.profile = quality;\n                yield this.statusUpdateFn({\n                    receiverId: this.receiverId,\n                    profile: quality,\n                });\n            }\n        });\n    }\n}\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"setMediaStreamEnabled\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"_setType\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"_setRemoteTrack\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"attach\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"detach\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"stop\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"getMediaStreamTrack\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"getMediaStream\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"getVideoId\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"_setVideoId\", null);\n__decorate([\n    Loggable('debug')\n], RemoteVideo.prototype, \"_setReceiverId\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"_setActive\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"setPaused\", null);\n__decorate([\n    Loggable('info')\n], RemoteVideo.prototype, \"setQuality\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Loggable } from \"../../utils/logger\";\nimport { Remote } from \"./remote\";\nexport class RemoteAudio extends Remote {\n    constructor(stream, participant) {\n        super();\n        this.type = 'none';\n        this.extraValue = '';\n        this.audioId = -1;\n        this.receiverId = '';\n        this.participantId = '';\n        this.audioId = stream.streamId;\n        this.type = stream.type;\n        this.extraValue = stream.extraValue;\n        this.isAlwaysOn = stream.property.alwaysOn;\n        this.participantId = participant.id;\n    }\n    getAudioId() {\n        return this.audioId;\n    }\n    _setReceiverId(receiverId) {\n        this.receiverId = receiverId;\n    }\n    _setAlwaysOn(alwaysOn) {\n        this.isAlwaysOn = alwaysOn;\n    }\n}\n__decorate([\n    Loggable('info')\n], RemoteAudio.prototype, \"getAudioId\", null);\n__decorate([\n    Loggable('debug')\n], RemoteAudio.prototype, \"_setReceiverId\", null);\n__decorate([\n    Loggable('info')\n], RemoteAudio.prototype, \"_setAlwaysOn\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { filterToArray, some, objectToArray } from '../../utils/object-util';\nimport { RemoteVideo } from '../remote/remote-video';\nimport { RemoteAudio } from '../remote/remote-audio';\nimport { Loggable } from '../../utils/logger';\nexport class RemoteParticipant {\n    constructor(participantId, trackFn, streams = []) {\n        this.streamIdMap = {};\n        this.audioMap = {};\n        this.videoMap = {};\n        this.id = participantId;\n        this.getTrackFn = trackFn;\n        this.streamIdMap = streams.reduce((streamIdMap, stream) => {\n            streamIdMap[stream.streamId] = stream;\n            if (stream.media === 'video') {\n                this.videoMap[stream.streamId] = new RemoteVideo(stream, this);\n            }\n            else if (stream.media === 'audio') {\n                this.audioMap[stream.streamId] = new RemoteAudio(stream, this);\n            }\n            return streamIdMap;\n        }, {});\n    }\n    get hasAudio() {\n        return some(this.streamIdMap, s => s.media === 'audio');\n    }\n    get hasVideo() {\n        return some(this.streamIdMap, s => s.media === 'video');\n    }\n    get audios() {\n        const remoteAudios = objectToArray(this.audioMap);\n        return remoteAudios;\n    }\n    get videos() {\n        const remoteVideos = objectToArray(this.videoMap);\n        return remoteVideos;\n    }\n    get isEnabledVideo() {\n        return some(this.streamIdMap, s => s.media === 'video' && s.property.active);\n    }\n    get isEnabledAudio() {\n        return some(this.streamIdMap, s => s.media === 'audio' && s.property.active);\n    }\n    _getSubscribedStreamIds() {\n        return this._getFilterStreamIds().assigned;\n    }\n    _getUnsubscribedStreamIds() {\n        return this._getFilterStreamIds().notAssigned;\n    }\n    getSubscribedVideos() {\n        const videoStreams = this._getFilterStreams().assigned;\n        const videos = videoStreams.map(stream => this.videoMap[stream.streamId]);\n        return videos;\n    }\n    getUnsubscribedVideos() {\n        const videoStreams = this._getFilterStreams().notAssigned;\n        const videos = videoStreams.map(stream => this.videoMap[stream.streamId]);\n        return videos;\n    }\n    getAudio(streamId) {\n        return this.audioMap[streamId];\n    }\n    getVideo(streamId) {\n        return this.videoMap[streamId];\n    }\n    _getVideoStreamIdAll() {\n        const streamIds = filterToArray(this.streamIdMap, s => s.media === 'video').map(s => s.streamId);\n        return streamIds;\n    }\n    _getVideoStreamAll() {\n        const streams = filterToArray(this.streamIdMap, s => s.media === 'video');\n        return streams;\n    }\n    _getFilterStreamIds() {\n        const videoStreams = this._getVideoStreamIdAll();\n        const videoTracks = videoStreams.map(id => this.getTrackFn(id));\n        return {\n            assigned: videoStreams.filter((_, i) => !!videoTracks[i]),\n            notAssigned: videoStreams.filter((_, i) => !videoTracks[i]),\n        };\n    }\n    _getFilterStreams() {\n        const videoStreams = this._getVideoStreamAll();\n        const videoTracks = videoStreams.map(stream => this.getTrackFn(stream.streamId));\n        return {\n            assigned: videoStreams.filter((_, i) => !!videoTracks[i]),\n            notAssigned: videoStreams.filter((_, i) => !videoTracks[i]),\n        };\n    }\n    /**\n     * @internal\n     */\n    _addStream(stream) {\n        this.streamIdMap[stream.streamId] = stream;\n        if (stream.media === 'video') {\n            this.videoMap[stream.streamId] = new RemoteVideo(stream, this);\n        }\n        else if (stream.media === 'audio') {\n            this.audioMap[stream.streamId] = new RemoteAudio(stream, this);\n        }\n    }\n    /**\n     * @internal\n     */\n    _updateStream({ streamId, property }) {\n        const next = Object.assign(Object.assign({}, this.streamIdMap[streamId]), { property });\n        this.streamIdMap[streamId] = next;\n    }\n    /**\n     * @internal\n     */\n    _removeStream(streamId) {\n        delete this.streamIdMap[streamId];\n        delete this.videoMap[streamId];\n        delete this.audioMap[streamId];\n    }\n}\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getSubscribedStreamIds\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getUnsubscribedStreamIds\", null);\n__decorate([\n    Loggable('info')\n], RemoteParticipant.prototype, \"getSubscribedVideos\", null);\n__decorate([\n    Loggable('info')\n], RemoteParticipant.prototype, \"getUnsubscribedVideos\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"getAudio\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"getVideo\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getVideoStreamIdAll\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getVideoStreamAll\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getFilterStreamIds\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_getFilterStreams\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_addStream\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_updateStream\", null);\n__decorate([\n    Loggable('debug')\n], RemoteParticipant.prototype, \"_removeStream\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { objectToArray } from '../../utils/object-util';\nimport { Loggable } from '../../utils/logger';\nexport class LocalParticipant {\n    constructor() {\n        this.id = '';\n        this.audioMap = {};\n        this.videoMap = {};\n    }\n    get hasAudio() {\n        return objectToArray(this.audioMap).length > 0;\n    }\n    get hasVideo() {\n        return objectToArray(this.videoMap).length > 0;\n    }\n    setLocalAudio(audio) {\n        this.audioMap[audio.streamId] = audio;\n    }\n    setLocalVideo(video) {\n        this.videoMap[video.streamId] = video;\n    }\n    getAudio(streamId) {\n        return this.audioMap[streamId];\n    }\n    getVideo(streamId) {\n        return this.videoMap[streamId];\n    }\n    setLocalParticipantId(participantId) {\n        this.id = participantId;\n    }\n    stop() {\n        objectToArray(this.audioMap).forEach(audio => audio.stop());\n        objectToArray(this.videoMap).forEach(video => video.stop());\n    }\n    /**\n     * @internal\n     */\n    _removeStream(streamId) {\n        delete this.audioMap[streamId];\n        delete this.videoMap[streamId];\n    }\n}\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"setLocalAudio\", null);\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"setLocalVideo\", null);\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"getAudio\", null);\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"getVideo\", null);\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"setLocalParticipantId\", null);\n__decorate([\n    Loggable('info')\n], LocalParticipant.prototype, \"stop\", null);\n__decorate([\n    Loggable('debug')\n], LocalParticipant.prototype, \"_removeStream\", null);\n","export const makeArray = (length, item) => new Array(length).fill(item);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Loggable } from \"../../utils/logger\";\nexport class Local {\n    constructor(mediaStreamTrack, extraValue) {\n        this.streamId = -1;\n        this.statusUpdateFn = () => Promise.resolve();\n        this.mediaStreamTrack = mediaStreamTrack;\n        this.extraValue = extraValue;\n    }\n    get isEnabled() {\n        return this.mediaStreamTrack.enabled;\n    }\n    get kind() {\n        return this.mediaStreamTrack.kind;\n    }\n    getMediaStreamTrack() {\n        return this.mediaStreamTrack;\n    }\n    getMediaStream() {\n        return new MediaStream([this.mediaStreamTrack]);\n    }\n    getStreamId() {\n        return this.streamId;\n    }\n    getExtraValue() {\n        return this.extraValue;\n    }\n    setExtraValue(value) {\n        this.extraValue = value;\n    }\n    setEnabled(enabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            enabled = typeof enabled === 'boolean' ? enabled : true;\n            if (enabled !== this.mediaStreamTrack.enabled) {\n                this.mediaStreamTrack.enabled = enabled;\n                yield this.statusUpdateFn({\n                    streamId: this.streamId,\n                    active: enabled,\n                });\n            }\n        });\n    }\n    /**\n     * @internal mute on/off 정보를 미디어 서버에 반영하기 위한 setup\n     */\n    _setStreamId(streamId, statusUpdateFn) {\n        this.streamId = streamId;\n        this.statusUpdateFn = statusUpdateFn;\n    }\n}\n__decorate([\n    Loggable('debug')\n], Local.prototype, \"getMediaStreamTrack\", null);\n__decorate([\n    Loggable('debug')\n], Local.prototype, \"getMediaStream\", null);\n__decorate([\n    Loggable('info')\n], Local.prototype, \"getStreamId\", null);\n__decorate([\n    Loggable('info')\n], Local.prototype, \"getExtraValue\", null);\n__decorate([\n    Loggable('info')\n], Local.prototype, \"setExtraValue\", null);\n__decorate([\n    Loggable('info')\n], Local.prototype, \"setEnabled\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Loggable } from '../../utils/logger';\nimport { Local } from './local';\nexport class LocalVideo extends Local {\n    constructor(mediaStreamTrack, type, extraValue) {\n        super(mediaStreamTrack, extraValue);\n        this.hd = false;\n        this.type = type;\n        this.videoElements = [];\n        this.cloneMediaStreamTrack = [];\n    }\n    attach(element = undefined) {\n        if (!this.mediaStreamTrack) {\n            return;\n        }\n        let videoElement;\n        if (element) {\n            videoElement = element;\n        }\n        else {\n            videoElement = document.createElement('video');\n        }\n        const mediaStream = this.getMediaStream();\n        videoElement.srcObject = mediaStream ? mediaStream : null;\n        videoElement.autoplay = true;\n        videoElement.playsInline = true;\n        this.videoElements.push(videoElement);\n        return videoElement;\n    }\n    detach() {\n        this.videoElements.forEach(element => element.remove());\n        this.videoElements = [];\n    }\n    stop() {\n        this.mediaStreamTrack.stop();\n        this.cloneMediaStreamTrack.forEach(track => track.stop());\n        this.cloneMediaStreamTrack = [];\n    }\n    setHd(flag) {\n        this.hd = flag;\n    }\n    getCloneTrack() {\n        const cloneTrack = this.getMediaStreamTrack().clone();\n        this.cloneMediaStreamTrack.push(cloneTrack);\n        return cloneTrack;\n    }\n}\n__decorate([\n    Loggable('debug')\n], LocalVideo.prototype, \"attach\", null);\n__decorate([\n    Loggable('debug')\n], LocalVideo.prototype, \"detach\", null);\n__decorate([\n    Loggable('info')\n], LocalVideo.prototype, \"stop\", null);\n__decorate([\n    Loggable('info')\n], LocalVideo.prototype, \"setHd\", null);\n__decorate([\n    Loggable('debug')\n], LocalVideo.prototype, \"getCloneTrack\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Loggable } from '../../utils/logger';\nimport { Local } from './local';\nexport class LocalAudio extends Local {\n    constructor(mediaStreamTrack, type, extraValue) {\n        super(mediaStreamTrack, extraValue);\n        this.isAlwaysOn = false;\n        this.type = type;\n    }\n    stop() {\n        this.mediaStreamTrack.stop();\n    }\n    setAlwaysOn(enabled) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.isAlwaysOn = typeof enabled === 'boolean' ? enabled : true;\n            yield this.statusUpdateFn({\n                streamId: this.streamId,\n                alwaysOn: this.isAlwaysOn,\n            });\n        });\n    }\n}\n__decorate([\n    Loggable('info')\n], LocalAudio.prototype, \"stop\", null);\n__decorate([\n    Loggable('info')\n], LocalAudio.prototype, \"setAlwaysOn\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { ClientError } from '../../utils/error-exception';\nimport { logger, Loggable } from '../../utils/logger';\nimport { LocalAudio } from './local-audio';\nimport { LocalVideo } from './local-video';\nclass LocalMedia {\n    constructor(constraints = {}) {\n        this.conf = null;\n        this.audio = undefined;\n        this.video = undefined;\n        if (constraints.video) {\n            if (constraints.video === true)\n                constraints.video = {};\n        }\n        if (constraints.audio) {\n            if (constraints.audio === true)\n                constraints.audio = {};\n        }\n        this.constraints = constraints;\n    }\n    getDevice() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield navigator.mediaDevices.enumerateDevices();\n        });\n    }\n    getMicDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.getDevice()).filter(device => device.kind === 'audioinput' && device.deviceId);\n        });\n    }\n    getSpeakerDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.getDevice()).filter(device => device.kind === 'audiooutput' && device.deviceId);\n        });\n    }\n    getCameraDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (yield this.getDevice()).filter(device => device.kind === 'videoinput' && device.deviceId);\n        });\n    }\n    switchCamera(deviceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.constraints) {\n                if (this.constraints.video) {\n                    this.constraints.video = Object.assign(this.constraints.video, { deviceId: { exact: deviceId } });\n                    if (this.conf && this.video) {\n                        this.video.stop();\n                        yield this.conf.unpublish([this.video]);\n                    }\n                    const mediaStream = yield navigator.mediaDevices.getUserMedia({\n                        video: this.constraints.video,\n                        audio: false\n                    });\n                    const [videoTrack] = mediaStream.getVideoTracks();\n                    if (videoTrack) {\n                        this.video = new LocalVideo(videoTrack, 'multiple');\n                        logger.debug('switch video track', 'id=' + videoTrack.id, 'label=' + videoTrack.label, 'enabled=' + videoTrack.enabled, 'kind=' + videoTrack.kind, 'muted=' + videoTrack.muted, 'readyState=' + videoTrack.readyState);\n                        if (this.conf)\n                            this.conf.publish([this.video]);\n                    }\n                }\n            }\n        });\n    }\n    switchMic(deviceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.constraints) {\n                if (this.constraints.audio) {\n                    this.constraints.audio = Object.assign(this.constraints.audio, { deviceId: { exact: deviceId } });\n                    if (this.conf && this.audio) {\n                        this.audio.stop();\n                        yield this.conf.unpublish([this.audio]);\n                    }\n                    const mediaStream = yield navigator.mediaDevices.getUserMedia({\n                        video: false,\n                        audio: this.constraints.audio\n                    });\n                    const [audioTrack] = mediaStream.getAudioTracks();\n                    if (audioTrack) {\n                        this.audio = new LocalAudio(audioTrack, 'single');\n                        logger.debug('switch audio track', 'id=' + audioTrack.id, 'label=' + audioTrack.label, 'enabled=' + audioTrack.enabled, 'kind=' + audioTrack.kind, 'muted=' + audioTrack.muted, 'readyState=' + audioTrack.readyState);\n                        if (this.conf)\n                            this.conf.publish([this.audio]);\n                    }\n                }\n            }\n        });\n    }\n    getUserMedia() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.stop();\n            try {\n                const mediaStream = yield navigator.mediaDevices.getUserMedia(this.constraints);\n                const [audioTrack] = mediaStream.getAudioTracks();\n                const [videoTrack] = mediaStream.getVideoTracks();\n                logger.debug('got mediaStream', 'id=' + mediaStream.id, 'active=' + mediaStream.active);\n                if (audioTrack) {\n                    logger.debug('got audio track', 'id=' + audioTrack.id, 'label=' + audioTrack.label, 'enabled=' + audioTrack.enabled, 'kind=' + audioTrack.kind, 'muted=' + audioTrack.muted, 'readyState=' + audioTrack.readyState);\n                    if (audioTrack.readyState === 'ended') {\n                        throw new ClientError(0, 'audioTrack\\'s readyState was ended');\n                    }\n                }\n                if (videoTrack) {\n                    logger.debug('got video track', 'id=' + videoTrack.id, 'label=' + videoTrack.label, 'enabled=' + videoTrack.enabled, 'kind=' + videoTrack.kind, 'muted=' + videoTrack.muted, 'readyState=' + videoTrack.readyState);\n                    if (videoTrack.readyState === 'ended') {\n                        throw new ClientError(0, 'videoTrack\\'s readyState was ended');\n                    }\n                }\n                this.audio = audioTrack ? new LocalAudio(audioTrack, 'single') : undefined;\n                this.video = videoTrack ? new LocalVideo(videoTrack, 'multiple') : undefined;\n            }\n            catch (err) {\n                const message = err.message;\n                logger.error(message);\n                throw new ClientError(0, message);\n            }\n        });\n    }\n    stop() {\n        var _a, _b;\n        (_a = this.audio) === null || _a === void 0 ? void 0 : _a.stop();\n        (_b = this.video) === null || _b === void 0 ? void 0 : _b.stop();\n    }\n    setConference(conf) {\n        this.conf = conf;\n    }\n    setMediaStream(mediaStream) {\n        const [audioTrack] = mediaStream.getAudioTracks();\n        const [videoTrack] = mediaStream.getVideoTracks();\n        this.audio = audioTrack ? new LocalAudio(audioTrack, 'single') : undefined;\n        this.video = videoTrack ? new LocalVideo(videoTrack, 'multiple') : undefined;\n        if (audioTrack)\n            logger.debug('set media stream track', 'id=' + audioTrack.id, 'label=' + audioTrack.label, 'enabled=' + audioTrack.enabled, 'kind=' + audioTrack.kind, 'muted=' + audioTrack.muted, 'readyState=' + audioTrack.readyState);\n        if (videoTrack)\n            logger.debug('set media stream track', 'id=' + videoTrack.id, 'label=' + videoTrack.label, 'enabled=' + videoTrack.enabled, 'kind=' + videoTrack.kind, 'muted=' + videoTrack.muted, 'readyState=' + videoTrack.readyState);\n    }\n}\n__decorate([\n    Loggable('debug')\n], LocalMedia.prototype, \"getDevice\", null);\n__decorate([\n    Loggable('debug')\n], LocalMedia.prototype, \"getMicDevices\", null);\n__decorate([\n    Loggable('debug')\n], LocalMedia.prototype, \"getSpeakerDevices\", null);\n__decorate([\n    Loggable('debug')\n], LocalMedia.prototype, \"getCameraDevices\", null);\n__decorate([\n    Loggable('info')\n], LocalMedia.prototype, \"switchCamera\", null);\n__decorate([\n    Loggable('info')\n], LocalMedia.prototype, \"switchMic\", null);\n__decorate([\n    Loggable('info')\n], LocalMedia.prototype, \"getUserMedia\", null);\n__decorate([\n    Loggable('info')\n], LocalMedia.prototype, \"stop\", null);\n__decorate([\n    Loggable('info')\n], LocalMedia.prototype, \"setMediaStream\", null);\nexport { LocalMedia };\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nimport { Loggable } from \"../../utils/logger\";\nexport class RemoteAudioElements {\n    constructor() {\n        this.audioReceivers = [];\n        this.audioElements = [];\n    }\n    _setReceivers(audioReceivers) {\n        this.audioReceivers = audioReceivers;\n    }\n    attach() {\n        const audioElements = this.audioReceivers.map((audioReceiver) => {\n            const audioElement = document.createElement('audio');\n            audioElement.srcObject = this._getMediaStream(audioReceiver);\n            audioElement.autoplay = true;\n            return audioElement;\n        });\n        this.audioElements = this.audioElements.concat(audioElements);\n        return this.audioElements;\n    }\n    detach() {\n        this.audioElements.forEach(element => element.remove());\n        this.audioElements = [];\n    }\n    _getMediaStream(audioReceiver) {\n        const ms = new MediaStream();\n        ms.addTrack(audioReceiver.track);\n        return ms;\n    }\n    stop() {\n        this.audioReceivers.forEach(audioReceiver => audioReceiver.track.stop());\n    }\n}\n__decorate([\n    Loggable('debug')\n], RemoteAudioElements.prototype, \"_setReceivers\", null);\n__decorate([\n    Loggable('debug')\n], RemoteAudioElements.prototype, \"attach\", null);\n__decorate([\n    Loggable('debug')\n], RemoteAudioElements.prototype, \"detach\", null);\n__decorate([\n    Loggable('debug')\n], RemoteAudioElements.prototype, \"_getMediaStream\", null);\n__decorate([\n    Loggable('info')\n], RemoteAudioElements.prototype, \"stop\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { Loggable, logger } from '../../utils/logger';\nimport { LocalAudio } from './local-audio';\nimport { LocalVideo } from './local-video';\nclass LocalScreen {\n    constructor(constraints = {}) {\n        this.conf = null;\n        this.audio = undefined;\n        this.video = undefined;\n        if (constraints.video) {\n            if (constraints.video === true)\n                constraints.video = {};\n        }\n        if (constraints.audio) {\n            if (constraints.audio === true)\n                constraints.audio = {};\n        }\n        this.constraints = constraints;\n    }\n    switchDisplay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.constraints) {\n                if (this.constraints.video) {\n                    if (this.conf && this.video) {\n                        yield this.conf.unpublish([this]);\n                    }\n                    yield this.getDisplayMedia();\n                    if (this.conf && this.video)\n                        this.conf.publish([this]);\n                }\n            }\n        });\n    }\n    getDisplayMedia() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.stop();\n            const mediaStream = yield navigator.mediaDevices.getDisplayMedia(this.constraints);\n            const [audioTrack] = mediaStream.getAudioTracks();\n            const [videoTrack] = mediaStream.getVideoTracks();\n            this.audio = audioTrack ? new LocalAudio(audioTrack, 'single') : undefined;\n            this.video = videoTrack ? new LocalVideo(videoTrack, 'single') : undefined;\n            logger.debug('got display stream', 'id=' + mediaStream.id, 'active=' + mediaStream.active);\n            if (audioTrack)\n                logger.debug('got display media track', 'id=' + audioTrack.id, 'label=' + audioTrack.label, 'enabled=' + audioTrack.enabled, 'kind=' + audioTrack.kind, 'muted=' + audioTrack.muted, 'readyState=' + audioTrack.readyState);\n            if (videoTrack)\n                logger.debug('got display media track', 'id=' + videoTrack.id, 'label=' + videoTrack.label, 'enabled=' + videoTrack.enabled, 'kind=' + videoTrack.kind, 'muted=' + videoTrack.muted, 'readyState=' + videoTrack.readyState);\n        });\n    }\n    stop() {\n        var _a, _b;\n        (_a = this.audio) === null || _a === void 0 ? void 0 : _a.stop();\n        (_b = this.video) === null || _b === void 0 ? void 0 : _b.stop();\n    }\n    setConference(conf) {\n        this.conf = conf;\n    }\n}\n__decorate([\n    Loggable('debug')\n], LocalScreen.prototype, \"switchDisplay\", null);\n__decorate([\n    Loggable('info')\n], LocalScreen.prototype, \"getDisplayMedia\", null);\n__decorate([\n    Loggable('info')\n], LocalScreen.prototype, \"stop\", null);\nexport { LocalScreen };\n","export var RoomEventName;\n(function (RoomEventName) {\n    RoomEventName[\"CONNECTING\"] = \"connection\";\n    RoomEventName[\"CONNECTED\"] = \"connected\";\n    RoomEventName[\"DISCONNECTED\"] = \"disconnected\";\n    RoomEventName[\"PARTICIPANTENTERED\"] = \"participantEntered\";\n    RoomEventName[\"PARTICIPANTLEFT\"] = \"participantLeft\";\n    RoomEventName[\"LOCALVIDEOPUBLISHED\"] = \"localVideoPublished\";\n    RoomEventName[\"LOCALVIDEOUNPUBLISHED\"] = \"localVideoUnpublished\";\n    RoomEventName[\"LOCALAUDIOPUBLISHED\"] = \"localAudioPublished\";\n    RoomEventName[\"LOCALAUDIOUNPUBLISHED\"] = \"localAudioUnpublished\";\n    RoomEventName[\"REMOTEVIDEOPUBLISHED\"] = \"remoteVideoPublished\";\n    RoomEventName[\"REMOTEVIDEOUNPUBLISHED\"] = \"remoteVideoUnpublished\";\n    RoomEventName[\"REMOTEAUDIOPUBLISHED\"] = \"remoteAudioPublished\";\n    RoomEventName[\"REMOTEAUDIOUNPUBLISHED\"] = \"remoteAudioUnpublished\";\n    RoomEventName[\"LOCALAUDIOLEVELUPDATED\"] = \"localAudioLevelUpdated\";\n    RoomEventName[\"REMOTEAUDIOLEVELUPDATED\"] = \"remoteAudioLevelUpdated\";\n    RoomEventName[\"REMOTEAUDIOSUBSCRIBED\"] = \"remoteAudioSubscribed\";\n    RoomEventName[\"REMOTEAUDIOUNSUBSCRIBED\"] = \"remoteAudioUnsubscribed\";\n    RoomEventName[\"REMOTEVIDEOSTATECHANGED\"] = \"remoteVideoStateChanged\";\n    RoomEventName[\"REMOTEAUDIOSTATECHANGED\"] = \"remoteAudioStateChanged\";\n    RoomEventName[\"ERROR\"] = \"error\";\n    RoomEventName[\"RECORDFAILED\"] = \"recordFailed\";\n})(RoomEventName || (RoomEventName = {}));\n;\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport EventEmitter from 'eventemitter3';\nimport { RoomApiClient } from './room-api-client';\nimport { DownSession } from '../session/down-session';\nimport { UpSession } from '../session/up-session';\nimport { logger, Loggable } from '../../utils/logger';\nimport { RemoteParticipant } from '../participant/remote-participant';\nimport { LocalParticipant } from '../participant/local-participant';\nimport { filterToArray, objectToArray } from '../../utils/object-util';\nimport { makeArray } from '../../utils/make-array';\nimport { LocalVideo } from '../local/local-video';\nimport { LocalAudio } from '../local/local-audio';\nimport { LocalMedia } from '../local/local-media';\nimport { RemoteAudioElements } from '../remote/remote-audio-elements';\nimport { LocalScreen } from '../local/local-screen';\nimport { RoomEventName } from '../../utils/room-event-enum';\nimport { ClientError } from '../../utils/error-exception';\nconst ConnectionStep = {\n    ENTERROOM: 1,\n    UPSESSION: 2,\n    DOWNSESSION: 3,\n    TOTALSTEP: 3\n};\nexport class Conference extends EventEmitter {\n    constructor(authResponse, config = {}) {\n        super();\n        this.participantMap = {}; // 참여자 아이디 - 참여자 객체\n        this.receiverMap = {}; // 리시버 아이디 - 스트림 아이디 or null\n        this.audioStreamIdMap = {}; // 오디오 스트림 아이디 - 참여자 아이디\n        this.config = {\n            videoReceiverInitialCount: 10,\n            videoReceiverGrowthRate: 5,\n            videoReceiverMaximumCount: 50,\n            audioOption: 1,\n            cpuOveruseDetection: true,\n            maxFramerate: {\n                l: 10,\n                m: 20,\n                h: 30\n            }\n        };\n        this.audioOccupants = {};\n        this.audioLvlUpdateTs = 0;\n        this.subscribeStreamIdsQueue = [];\n        this.unsubscribeStreamIdsQueue = [];\n        this.streamIdsQueueInterval = -1;\n        this.isStreamIdsQueueWorking = false;\n        Object.assign(this.config, config);\n        logger.debug(this.config);\n        this.roomApiClient = new RoomApiClient(this.config.audioOption);\n        this.upSession = new UpSession(this.roomApiClient, {\n            cpuOveruseDetection: this.config.cpuOveruseDetection,\n            maxFramerate: this.config.maxFramerate\n        });\n        this.downSession = new DownSession(this.roomApiClient, {\n            cpuOveruseDetection: this.config.cpuOveruseDetection,\n        });\n        this.localParticipant = new LocalParticipant();\n        this.remoteAudioElements = new RemoteAudioElements();\n        this.authResponse = authResponse;\n        this.roomStatus = 'created';\n        this.upSession.on('error', (msg) => {\n            this._dispatch(RoomEventName.ERROR, msg);\n        });\n        this.upSession.on('RecordFailed', (msg) => {\n            this._dispatch(RoomEventName.RECORDFAILED, msg);\n        });\n        this.downSession.on('error', (msg) => {\n            this._dispatch(RoomEventName.ERROR, msg);\n        });\n        const apiServerUrl = this.authResponse.api;\n        const httpHeaders = {\n            headers: {\n                'Content-Type': 'application/json',\n                Authorization: `Bearer ${this.authResponse.token}`,\n            },\n        };\n        this.roomApiClient.setHost(apiServerUrl);\n        this.roomApiClient.setHeaders(httpHeaders);\n        this.roomStatus = 'initiated';\n    }\n    get remoteParticipants() {\n        return filterToArray(this.participantMap, p => p.id !== this.localParticipant.id);\n    }\n    /**\n     * 미디어 서버로 부터 참여자 id를 발급받고, 세션을 생성한다.\n     */\n    connect(roomId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.roomApiClient.setRoomId(roomId);\n            const res = yield this.roomApiClient.sendEnterRoom();\n            this.roomApiClient.setParticipantId(res.result.participantId);\n            this.localParticipant.setLocalParticipantId(res.result.participantId);\n            this._handleParticipantsInfo();\n            this._handleReceivers();\n            this._dispatch(RoomEventName.CONNECTING, { progress: ConnectionStep.ENTERROOM / ConnectionStep.TOTALSTEP * 100 });\n            const iceServers = this.authResponse.iceServers;\n            yield this.upSession.create({ iceServers });\n            this._dispatch(RoomEventName.CONNECTING, { progress: ConnectionStep.UPSESSION / ConnectionStep.TOTALSTEP * 100 });\n            yield this.downSession.create({ iceServers });\n            this._dispatch(RoomEventName.CONNECTING, { progress: ConnectionStep.DOWNSESSION / ConnectionStep.TOTALSTEP * 100 });\n            this.roomStatus = 'connected';\n            // subscribe시 큐에 저장된 streamId를 하나씩 꺼내서 assign 함\n            this.streamIdsQueueInterval = window.setInterval(() => __awaiter(this, void 0, void 0, function* () {\n                if (this.isStreamIdsQueueWorking === false) {\n                    if (this.unsubscribeStreamIdsQueue.length) {\n                        const lastData = this.unsubscribeStreamIdsQueue.shift();\n                        if (lastData) {\n                            this.isStreamIdsQueueWorking = true;\n                            const pairs = lastData.pairs;\n                            try {\n                                yield this.downSession.assignStream(pairs);\n                                let remoteVideos = [];\n                                // 3. receiverMap에 stream 정보 업데이트\n                                pairs.forEach(({ receiverId }) => {\n                                    this.remoteParticipants.forEach((participant) => {\n                                        const remoteVideo = participant.videos.find(remoteVideo => remoteVideo.receiverId === receiverId);\n                                        if (remoteVideo) {\n                                            remoteVideo._setReceiverId('');\n                                            remoteVideo._setRemoteTrack(null);\n                                            remoteVideos.push(remoteVideo);\n                                        }\n                                    });\n                                    console.log('unsubscribe-before', JSON.parse(JSON.stringify(this.receiverMap)));\n                                    this.receiverMap[receiverId].streamId = null;\n                                    console.log('unsubscribe-after', JSON.parse(JSON.stringify(this.receiverMap)));\n                                });\n                                this.emit(lastData.key, remoteVideos);\n                            }\n                            catch (err) {\n                                this.emit(lastData.key, err);\n                            }\n                            this.isStreamIdsQueueWorking = false;\n                        }\n                    }\n                    else {\n                        if (this.subscribeStreamIdsQueue.length) {\n                            const lastData = this.subscribeStreamIdsQueue.shift();\n                            if (lastData) {\n                                this.isStreamIdsQueueWorking = true;\n                                let remoteVideos = [];\n                                try {\n                                    for (let streamId of lastData.streamIds) {\n                                        console.log('subscribe-before', JSON.parse(JSON.stringify(this.receiverMap)));\n                                        const removeVideo = yield this._assignVideoStream([streamId]);\n                                        if (removeVideo)\n                                            remoteVideos = [...removeVideo];\n                                        console.log('subscribe-after', JSON.parse(JSON.stringify(this.receiverMap)));\n                                    }\n                                    this.emit(lastData.key, remoteVideos);\n                                }\n                                catch (err) {\n                                    //assign stream error\n                                    this.emit(lastData.key, err);\n                                }\n                                this.isStreamIdsQueueWorking = false;\n                            }\n                        }\n                    }\n                }\n            }), 100);\n        });\n    }\n    /**\n     * 생성된 세션을 제거한다.\n     */\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.roomStatus !== 'connected') {\n                return logger.error('not connected.');\n            }\n            window.clearInterval(this.streamIdsQueueInterval);\n            this.streamIdsQueueInterval = -1;\n            this.isStreamIdsQueueWorking = false;\n            this.remoteAudioElements.detach();\n            this.remoteAudioElements.stop();\n            yield this.upSession.destroy();\n            yield this.downSession.destroy();\n            this.roomStatus = 'disconnected';\n            this._dispatch(RoomEventName.DISCONNECTED);\n        });\n    }\n    /**\n     * 내 미디어를 다른 참여자에게 공유한다.\n     */\n    publish(localMedias, isRecording = false) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const promise = (media) => {\n                let localAudio;\n                let localVideo;\n                if (media instanceof LocalMedia || media instanceof LocalScreen) {\n                    localAudio = media.audio;\n                    localVideo = media.video;\n                }\n                else if (media instanceof LocalAudio) {\n                    localAudio = media;\n                }\n                else if (media instanceof LocalVideo) {\n                    localVideo = media;\n                }\n                return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n                    try {\n                        const { audioOffer, videoOffer } = yield this.upSession.addStream({\n                            audioType: localAudio ? localAudio.type : 'none',\n                            audioTrack: localAudio === null || localAudio === void 0 ? void 0 : localAudio.getMediaStreamTrack(),\n                            audioExtraValue: localAudio === null || localAudio === void 0 ? void 0 : localAudio.extraValue,\n                            videoType: localVideo ? localVideo.type : 'none',\n                            localVideo: localVideo || undefined,\n                            videoExtraValue: localVideo === null || localVideo === void 0 ? void 0 : localVideo.extraValue,\n                            videoHd: localVideo === null || localVideo === void 0 ? void 0 : localVideo.hd,\n                            record: isRecording\n                        });\n                        if (media instanceof LocalMedia) {\n                            media.setConference(this);\n                        }\n                        if (audioOffer && localAudio) {\n                            localAudio._setStreamId(audioOffer.streamId, (config) => __awaiter(this, void 0, void 0, function* () {\n                                this.upSession.configureStream([config]);\n                            }));\n                            this.localParticipant.setLocalAudio(localAudio);\n                            this._dispatch(RoomEventName.LOCALAUDIOPUBLISHED, {\n                                localAudio: localAudio\n                            });\n                        }\n                        if (videoOffer && localVideo) {\n                            localVideo._setStreamId(videoOffer.streamId, (config) => __awaiter(this, void 0, void 0, function* () {\n                                this.upSession.configureStream([config]);\n                            }));\n                            this.localParticipant.setLocalVideo(localVideo);\n                            this._dispatch(RoomEventName.LOCALVIDEOPUBLISHED, {\n                                localVideo: localVideo\n                            });\n                        }\n                        resolve(media);\n                    }\n                    catch (err) {\n                        reject(err);\n                    }\n                }));\n            };\n            const promiseArr = localMedias.map(localMedia => promise(localMedia));\n            try {\n                yield Promise.all(promiseArr);\n            }\n            catch (err) {\n                throw err;\n            }\n        });\n    }\n    /**\n     * 다른 참여자에게 공유한 내 미디어를 취소한다.\n     */\n    unpublish(localMedias) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const streamIds = [];\n            localMedias.forEach((localMedia) => {\n                if (localMedia instanceof LocalMedia || localMedia instanceof LocalScreen) {\n                    localMedia.audio && streamIds.push(localMedia.audio.getStreamId());\n                    localMedia.video && streamIds.push(localMedia.video.getStreamId());\n                }\n                else {\n                    streamIds.push(localMedia.getStreamId());\n                }\n            });\n            try {\n                yield this.upSession.removeStream(streamIds);\n            }\n            catch (err) {\n                throw err;\n            }\n        });\n    }\n    /**\n     * 다른 참여자의 비디오를 가져온다.\n     */\n    subscribe(participantOrStreamIds) {\n        return new Promise((resolve, reject) => {\n            let unsubscribedStreamIds = [];\n            if (Array.isArray(participantOrStreamIds)) {\n                unsubscribedStreamIds = participantOrStreamIds;\n            }\n            else {\n                unsubscribedStreamIds = participantOrStreamIds._getUnsubscribedStreamIds();\n            }\n            const intersection = this._checkAlreadySubscribe(unsubscribedStreamIds);\n            if (intersection.length) {\n                return reject(new ClientError(0, 'already have a subscription to stream. ' + intersection));\n            }\n            const key = Math.random().toString(36).substring(2, 12);\n            this.subscribeStreamIdsQueue.push({\n                key: key,\n                streamIds: unsubscribedStreamIds\n            });\n            this.once(key, (remoteVideos) => {\n                if (remoteVideos instanceof Error) {\n                    return reject(remoteVideos);\n                }\n                resolve(remoteVideos);\n            });\n        });\n    }\n    /**\n     * 다른 참여자의 비디오 가져오는걸 취소한다.\n     */\n    unsubscribe(participantOrStreamIds) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                const videoStreamIds = participantOrStreamIds instanceof RemoteParticipant\n                    ? participantOrStreamIds._getSubscribedStreamIds()\n                    : participantOrStreamIds;\n                // 1. streamId로 receiverId 찾기\n                const assignedStreamMap = Object.entries(this.receiverMap).reduce((streamMap, [receiverId, { type, streamId }]) => {\n                    if (streamId)\n                        streamMap[streamId] = { type, receiverId };\n                    return streamMap;\n                }, {});\n                const receiverIds = [];\n                videoStreamIds.forEach(streamId => {\n                    if (assignedStreamMap[streamId]) {\n                        receiverIds.push(assignedStreamMap[streamId].receiverId);\n                    }\n                });\n                // @NOTE: receiver에 할당된 stream을 지우기위해 0으로 전달\n                const pairs = receiverIds.map(receiverId => ({ receiverId, streamId: 0 }));\n                const key = Math.random().toString(36).substring(2, 12);\n                this.unsubscribeStreamIdsQueue.push({\n                    key: key,\n                    pairs: pairs\n                });\n                this.once(key, (remoteVideos) => {\n                    if (remoteVideos instanceof Error) {\n                        return reject(remoteVideos);\n                    }\n                    resolve(remoteVideos);\n                });\n            });\n        });\n    }\n    getParticipant(participantId) {\n        return this.participantMap[participantId];\n    }\n    getAudioOccupants() {\n        return objectToArray(this.audioOccupants);\n    }\n    getRemoteVideo(videoId) {\n        let remoteVideo = null;\n        this.remoteParticipants.some((remoteParticipant) => {\n            remoteVideo = remoteParticipant.videos.find((remoteVideo) => {\n                if (remoteVideo.videoId === videoId) {\n                    return true;\n                }\n            });\n            if (remoteVideo) {\n                return true;\n            }\n        });\n        return remoteVideo;\n    }\n    getRemoteAudio(audioId) {\n        let remoteAudio = null;\n        this.remoteParticipants.some((remoteParticipant) => {\n            remoteAudio = remoteParticipant.audios.find((remoteVideo) => {\n                if (remoteVideo.audioId === audioId) {\n                    return true;\n                }\n            });\n            if (remoteAudio) {\n                return true;\n            }\n        });\n        return remoteAudio;\n    }\n    _checkAlreadySubscribe(streamIds) {\n        const _streamIds = Object.values(this.receiverMap).filter(({ type, streamId }) => {\n            return type === 'video' && streamId !== null;\n        }).map(receiver => receiver.streamId);\n        const intersection = _streamIds.filter(streamId => {\n            if (streamId) {\n                return streamIds.includes(streamId);\n            }\n        });\n        return intersection;\n    }\n    /**\n     * 현재 리시버가 MAX를 초과했는지 체크한다.\n     */\n    _checkMaxReceiverCount() {\n        const currentCount = this._getCurrentReceiverCount();\n        if (currentCount >= this.config.videoReceiverMaximumCount) {\n            return true;\n        }\n        return false;\n    }\n    /**\n     * 현재 리시버 갯수를 반환한다.\n     */\n    _getCurrentReceiverCount() {\n        const receiverMap = {};\n        Object.entries(this.receiverMap).forEach(([key, value]) => {\n            if (value.streamId) {\n                receiverMap[key] = value;\n            }\n        });\n        const receiverIds = Object.keys(receiverMap);\n        const currentVideoSize = receiverIds.filter(receiverId => { var _a; return ((_a = this.downSession.getTrack(receiverId)) === null || _a === void 0 ? void 0 : _a.kind) === 'video'; }).length;\n        return currentVideoSize;\n    }\n    /**\n     * 타입별 리시버 갯수를 조절한다.\n     */\n    _setReceiverPool(videoSize) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._checkMaxReceiverCount())\n                throw new Error(`리시버 갯수는 maxReceiverCount를 초과할 수 없습니다.`);\n            yield this.downSession.addReceiver(makeArray(videoSize, { type: 'video' }));\n        });\n    }\n    _assignVideoStream(streamIds) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (streamIds.length === 0)\n                throw new Error(`빈 streamIds이 전달되었습니다.`);\n            if (this._checkMaxReceiverCount())\n                throw new Error(`리시버 갯수는 maxReceiverCount를 초과할 수 없습니다.`);\n            const intersection = this._checkAlreadySubscribe(streamIds);\n            if (intersection.length)\n                throw new Error('already have a subscription to stream. ' + intersection);\n            // 1. 구독중이지 않은 streamId와 video receiverId 매핑.\n            const receiverIds = Object.entries(this.receiverMap)\n                .filter(([_, { type, streamId }]) => {\n                return type === 'video' && streamId === null;\n            })\n                .map(([receiverId]) => receiverId)\n                .slice(0, streamIds.length);\n            // 2. 가용 리시버 체크\n            if (receiverIds.length === 0 || streamIds.length > receiverIds.length) {\n                //리시버 추가\n                let receiverCount = this.config.videoReceiverGrowthRate;\n                const currentReceiverCount = this._getCurrentReceiverCount();\n                if (currentReceiverCount + this.config.videoReceiverGrowthRate > this.config.videoReceiverMaximumCount) {\n                    receiverCount = this.config.videoReceiverMaximumCount - currentReceiverCount;\n                }\n                if (receiverCount > 0) {\n                    yield this._setReceiverPool(receiverCount);\n                    return yield this._assignVideoStream(streamIds);\n                }\n            }\n            else {\n                const pairs = streamIds.map((streamId, i) => {\n                    return { streamId, receiverId: receiverIds[i] };\n                });\n                // 3. receiverMap에 stream 정보 업데이트\n                pairs.forEach(({ streamId, receiverId }) => {\n                    const next = Object.assign(Object.assign({}, this.receiverMap[receiverId]), { streamId });\n                    this.receiverMap[receiverId] = next;\n                });\n                try {\n                    // 4. stream과 receiver 매핑\n                    yield this.downSession.assignStream(pairs);\n                    let remoteVideos = [];\n                    pairs.forEach(({ streamId, receiverId }) => {\n                        const remoteVideoTrack = this.downSession.getTrack(receiverId);\n                        if (remoteVideoTrack) {\n                            const participant = Object.values(this.participantMap).find((participant) => !!participant.streamIdMap[streamId]);\n                            if (participant) {\n                                const remoteVideo = participant.getVideo(streamId);\n                                remoteVideo._setReceiverId(receiverId, (config) => __awaiter(this, void 0, void 0, function* () {\n                                    this.downSession.configureReceiver([config]);\n                                }));\n                                remoteVideo._setRemoteTrack(remoteVideoTrack);\n                                remoteVideos.push(remoteVideo);\n                            }\n                        }\n                    });\n                    return remoteVideos;\n                }\n                catch (err) {\n                    // 5. 요청 실패시 해당 receiver들을 다시 사용할 수 있도록 변경\n                    pairs.forEach(({ receiverId }) => {\n                        this.receiverMap[receiverId].streamId = null;\n                    });\n                    throw err;\n                }\n            }\n        });\n    }\n    /**\n     * down session에서 전달된 참여자 정보를 처리한다.\n     */\n    _handleParticipantsInfo() {\n        const getTrackFn = (streamId) => {\n            for (const receiverId in this.receiverMap) {\n                if (this.receiverMap[receiverId].streamId === streamId) {\n                    const found = this.downSession.getTrack(receiverId);\n                    return found;\n                }\n            }\n        };\n        // TODO: 참여자 클래스 만들어서 room.participants 이런식으로 조회하기?\n        this.downSession.on('ChangedParticipantsInfo', ({ change }) => {\n            if (change.fullData) {\n                change.fullData.forEach(({ participantId, streams }) => {\n                    if (participantId !== this.localParticipant.id) {\n                        this.participantMap[participantId] = new RemoteParticipant(participantId, getTrackFn, streams);\n                        // @NOTE: 오디오 아이디로 참여자 아이디랑 바로 매치하기 위함\n                        streams === null || streams === void 0 ? void 0 : streams.filter(stream => {\n                            if (stream.media === 'audio') {\n                                this.audioStreamIdMap[stream.streamId.toString()] = participantId;\n                            }\n                        });\n                    }\n                });\n            }\n            else if (change.participantsEnter) {\n                change.participantsEnter.forEach(participantId => {\n                    this.participantMap[participantId] = new RemoteParticipant(participantId, getTrackFn);\n                });\n                change.participantsEnter.forEach(participantId => {\n                    return this._dispatch(RoomEventName.PARTICIPANTENTERED, { remoteParticipant: this.participantMap[participantId] });\n                });\n            }\n            else if (change.participantsLeave) {\n                change.participantsLeave.forEach(participantId => {\n                    delete this.participantMap[participantId];\n                    return this._dispatch(RoomEventName.PARTICIPANTLEFT, { remoteParticipantId: participantId });\n                });\n            }\n            else if (change.streamsAdded) {\n                change.streamsAdded.forEach((_a) => {\n                    var _b;\n                    var { participantId } = _a, stream = __rest(_a, [\"participantId\"]);\n                    (_b = this.participantMap[participantId]) === null || _b === void 0 ? void 0 : _b._addStream(stream);\n                    // @NOTE: 오디오 아이디로 참여자 아이디랑 바로 매치하기 위함\n                    if (stream.media === 'audio') {\n                        this.audioStreamIdMap[stream.streamId.toString()] = participantId;\n                    }\n                });\n                const audioStreams = change.streamsAdded.filter(({ participantId, media }) => {\n                    return participantId !== this.localParticipant.id && media === 'audio';\n                });\n                audioStreams.forEach(audioStream => {\n                    const participant = this.participantMap[audioStream.participantId];\n                    if (participant) {\n                        this._dispatch(RoomEventName.REMOTEAUDIOPUBLISHED, {\n                            remoteParticipant: participant,\n                            remoteAudio: participant.getAudio(audioStream.streamId)\n                        });\n                    }\n                });\n                const videoStreams = change.streamsAdded.filter(({ participantId, media }) => {\n                    return participantId !== this.localParticipant.id && media === 'video';\n                });\n                videoStreams.forEach(videoStream => {\n                    const participant = this.participantMap[videoStream.participantId];\n                    if (participant) {\n                        const remoteVideo = participant.getVideo(videoStream.streamId);\n                        this._dispatch(RoomEventName.REMOTEVIDEOPUBLISHED, {\n                            remoteParticipant: participant,\n                            remoteVideo: remoteVideo\n                        });\n                    }\n                });\n            }\n            else if (change.streamsUpdated) {\n                change.streamsUpdated.forEach(({ participantId, streamId, property }) => {\n                    var _a;\n                    if (participantId !== this.localParticipant.id) {\n                        (_a = this.participantMap[participantId]) === null || _a === void 0 ? void 0 : _a._updateStream({ streamId, property });\n                        if (property.hasOwnProperty('alwaysOn')) {\n                            //audio\n                            const participant = this.participantMap[participantId];\n                            if (participant) {\n                                const remoteAudio = participant.getAudio(streamId);\n                                remoteAudio._setAlwaysOn(property.alwaysOn);\n                                this._dispatch(RoomEventName.REMOTEAUDIOSTATECHANGED, {\n                                    remoteParticipant: participant,\n                                    remoteAudio: remoteAudio,\n                                });\n                            }\n                        }\n                        else {\n                            //video\n                            const participant = this.participantMap[participantId];\n                            if (participant) {\n                                const remoteVideo = participant.getVideo(streamId);\n                                //remoteVideo.setMediaStreamEnabled(property.active);\n                                remoteVideo._setActive(property.active);\n                                this._dispatch(RoomEventName.REMOTEVIDEOSTATECHANGED, {\n                                    remoteParticipant: participant,\n                                    remoteVideo: remoteVideo,\n                                });\n                            }\n                        }\n                    }\n                });\n            }\n            else if (change.streamsRemoved) {\n                change.streamsRemoved.forEach(({ participantId, streamId }) => {\n                    if (participantId === this.localParticipant.id) {\n                        const localAudio = this.localParticipant.getAudio(streamId);\n                        const localVideo = this.localParticipant.getVideo(streamId);\n                        if (localAudio) {\n                            this._dispatch(RoomEventName.LOCALAUDIOUNPUBLISHED, {\n                                localAudio: localAudio\n                            });\n                        }\n                        if (localVideo) {\n                            this._dispatch(RoomEventName.LOCALVIDEOUNPUBLISHED, {\n                                localVideo: localVideo\n                            });\n                        }\n                    }\n                    else {\n                        const remoteParticipant = this.participantMap[participantId];\n                        if (remoteParticipant) {\n                            const remoteAudio = remoteParticipant.getAudio(streamId);\n                            const remoteVideo = remoteParticipant.getVideo(streamId);\n                            if (remoteAudio) {\n                                this._dispatch(RoomEventName.REMOTEAUDIOUNPUBLISHED, {\n                                    remoteParticipant: remoteParticipant,\n                                    remoteAudio: remoteAudio\n                                });\n                            }\n                            if (remoteVideo) {\n                                this._dispatch(RoomEventName.REMOTEVIDEOUNPUBLISHED, {\n                                    remoteParticipant: remoteParticipant,\n                                    remoteVideo: remoteVideo\n                                });\n                            }\n                            remoteParticipant._removeStream(streamId);\n                        }\n                        const receiver = Object.values(this.receiverMap).find(receiver => {\n                            return streamId === receiver.streamId;\n                        });\n                        if (receiver) {\n                            receiver.streamId = null;\n                        }\n                    }\n                });\n            }\n        });\n        this.downSession.on('AudioLevel', (data) => {\n            const remoteAudios = [];\n            data.forEach(({ lvl, streamId }) => {\n                const min = 5; //최대치(0이 최대치이지만 이론적으로 달성될 수 없으므로 5로봄)\n                const max = 65; //묵음(127이 원래 최대치이지만 65이상은 묵음으로 봄)\n                if (lvl > 65) {\n                    lvl = 65;\n                }\n                if (lvl < 5) {\n                    lvl = 5;\n                }\n                const level = Math.floor((lvl - max) / (min - max) * 100);\n                const remoteParticipant = this.participantMap[this.audioStreamIdMap[streamId]];\n                if (!remoteParticipant) {\n                    const audio = objectToArray(this.localParticipant.audioMap).find(audio => audio.getStreamId() === streamId);\n                    if (audio) {\n                        this._dispatch(RoomEventName.LOCALAUDIOLEVELUPDATED, { level });\n                    }\n                }\n                else {\n                    remoteAudios.push({ level, remoteParticipant });\n                }\n            });\n            this._dispatch(RoomEventName.REMOTEAUDIOLEVELUPDATED, remoteAudios);\n        });\n        this.downSession.on('StreamChanged', ({ params }) => {\n            if (params.type === 'audio') {\n                const receiverId = params.receiverId;\n                const streamId = params.streamId;\n                const participantId = params.participantId;\n                if (streamId === 0) {\n                    //기존 발화자 삭제\n                    const _participant = this.audioOccupants[receiverId];\n                    if (_participant) {\n                        const participant = this.participantMap[_participant.id];\n                        const _receiverId = Object.keys(this.receiverMap).find((key) => {\n                            return receiverId === key;\n                        });\n                        if (participant && _receiverId) {\n                            //참여자의 오디오 리시버 업데이트\n                            const _streamId = this.receiverMap[_receiverId].streamId;\n                            if (_streamId) {\n                                const remoteAudio = participant.getAudio(_streamId);\n                                if (remoteAudio) {\n                                    remoteAudio._setReceiverId(receiverId);\n                                }\n                            }\n                        }\n                        this._dispatch(RoomEventName.REMOTEAUDIOUNSUBSCRIBED, { remoteParticipant: participant });\n                    }\n                }\n                else {\n                    const participant = this.participantMap[participantId];\n                    //참여자의 오디오 리시버 업데이트\n                    if (participant) {\n                        const remoteAudio = participant.getAudio(streamId);\n                        if (remoteAudio) {\n                            remoteAudio._setReceiverId(receiverId);\n                        }\n                    }\n                    //새 발화자 추가\n                    if (this.audioOccupants[receiverId] !== participant) {\n                        this.audioOccupants[receiverId] = participant;\n                        this._dispatch(RoomEventName.REMOTEAUDIOSUBSCRIBED, { remoteParticipant: participant });\n                    }\n                }\n            }\n        });\n    }\n    _handleReceivers() {\n        this.downSession.on('UpdatedReceivers', ({ name, receivers }) => __awaiter(this, void 0, void 0, function* () {\n            // 리시버 아이디, 이벤트 따라 일단 저장\n            // 케이스 1: 초기에 할당받은 경우\n            // 케이스 2: 리시버 추가 요청 후 결과를 받는 경우\n            // 케이스 3: 리시버 삭제 요청 후 결과를 받는 경우\n            if (name === 'init' || name === 'add') {\n                receivers.forEach(({ type, receiverId }) => {\n                    this.receiverMap[receiverId] = { type, streamId: null };\n                });\n            }\n            if (name === 'init') {\n                const participants = [];\n                objectToArray(this.participantMap).forEach((participant) => {\n                    participants.push(participant);\n                });\n                const audioReceivers = this.downSession.getFixedAudioReceiver();\n                this.remoteAudioElements._setReceivers(audioReceivers);\n                const remoteAudioElements = this.remoteAudioElements.attach();\n                remoteAudioElements.forEach(element => document.body.appendChild(element));\n                yield this._setReceiverPool(this.config.videoReceiverInitialCount);\n                this._dispatch(RoomEventName.CONNECTED, { remoteParticipants: participants });\n            }\n            if (name === 'remove') {\n                receivers.forEach(({ receiverId }) => {\n                    delete this.receiverMap[receiverId];\n                });\n            }\n        }));\n    }\n    getRemoteAudioLevels() {\n        const receivers = this.downSession.getFixedAudioReceiver();\n        const levels = {\n            remoteParticipants: []\n        };\n        let lastTimestamp = 0;\n        receivers.forEach((receiver, i) => {\n            const sc = receiver.getContributingSources();\n            const ss = sc.find(ss => ss.timestamp > this.audioLvlUpdateTs);\n            if (ss) {\n                lastTimestamp = ss.timestamp;\n                //remote\n                const remoteParticipant = this.participantMap[this.audioStreamIdMap[ss.source]];\n                if (remoteParticipant) {\n                    levels.remoteParticipants.push({\n                        remoteParticipant: remoteParticipant,\n                        level: ss.audioLevel || 0\n                    });\n                }\n            }\n        });\n        if (lastTimestamp > 0) {\n            this.audioLvlUpdateTs = lastTimestamp;\n        }\n        return levels;\n    }\n    switchSpeaker(deviceId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const fn = (audioElement) => {\n                return new Promise((resolve, reject) => {\n                    // @ts-ignore\n                    audioElement.setSinkId(deviceId).then(result => resolve(result)).catch(err => reject(err));\n                });\n            };\n            const promises = this.remoteAudioElements.audioElements.map((audioElement) => {\n                return fn(audioElement);\n            });\n            yield Promise.all(promises);\n        });\n    }\n    _dispatch(type, data) {\n        this.emit(type, data);\n    }\n}\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"connect\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"disconnect\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"publish\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"unpublish\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"subscribe\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"unsubscribe\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"getParticipant\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"getAudioOccupants\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"getRemoteVideo\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"getRemoteAudio\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"_checkMaxReceiverCount\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"_getCurrentReceiverCount\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"_setReceiverPool\", null);\n__decorate([\n    Loggable('info')\n], Conference.prototype, \"_assignVideoStream\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"_handleParticipantsInfo\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"_handleReceivers\", null);\n__decorate([\n    Loggable('debug')\n], Conference.prototype, \"switchSpeaker\", null);\n","var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AuthApiClient } from './modules/conference/auth-api-client';\nimport { SDK_VERSION } from './config';\nimport { logger, loggerSender, Loggable } from './utils/logger';\nimport { Conference } from './modules/conference/conference';\nimport { LocalAudio } from './modules/local/local-audio';\nimport { LocalVideo } from './modules/local/local-video';\nimport { LocalScreen } from './modules/local/local-screen';\nimport { LocalMedia } from './modules/local/local-media';\nimport EventEmitter from 'eventemitter3';\nimport userAgentParser from './utils/user-agent';\nclass ConnectLive {\n    constructor() {\n        new Error(\"connectlive can't create instances directly\");\n    }\n    static on(eventName, callback) {\n        this.emitter.on(eventName, callback);\n    }\n    static _startAuthTimer() {\n        if (this.authResponse) {\n            const timeout = Math.floor(this.authResponse.ttl * 0.9 * 1000);\n            let restTtl = timeout;\n            const fn = () => __awaiter(this, void 0, void 0, function* () {\n                if (this.authResponse) {\n                    try {\n                        const res = yield this.authApiClient.refreshToken(this.authResponse.token);\n                        this.authResponse.token = res.token;\n                        this.authResponse.ttl = res.ttl;\n                        this._startAuthTimer();\n                    }\n                    catch (err) {\n                        logger.error('token refresh error');\n                        const timeout = 600000;\n                        restTtl = restTtl - timeout;\n                        if (restTtl < 0) {\n                            this.emitter.emit('tokenRefreshError', err);\n                        }\n                        else {\n                            this.emitter.emit('tokenRefreshWarning', err);\n                            window.setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                                fn();\n                            }), timeout);\n                        }\n                    }\n                }\n            });\n            this.authRefreshTimer = window.setTimeout(() => __awaiter(this, void 0, void 0, function* () {\n                fn();\n            }), timeout);\n        }\n    }\n    static signIn(authConfig) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.authRefreshTimer > -1) {\n                this.signOut();\n            }\n            this.authResponse = yield this.authApiClient.authorize(authConfig);\n            this._startAuthTimer();\n            yield loggerSender.createWebSocket(this.authResponse.cnl, this.authResponse.token);\n            logger.info('[method][Function.signIn]', authConfig);\n            const device = userAgentParser.getDevice();\n            const engine = userAgentParser.getEngine();\n            const os = userAgentParser.getOS();\n            const browser = userAgentParser.getBrowser();\n            const cpu = userAgentParser.getCPU();\n            logger.debug('DEVICE TYPE =', device.type, ', DEVICE VENDOR =', device.vendor, 'ENGINE NAME =', engine.name, ', ENGINE VERSION =', engine.version, 'OS NAME =', os.name, ', OS VERSION =', os.version, 'BROWSER NAME =', browser.name, ', BROWSER VERSION =', browser.version, 'CPU =', cpu.architecture, 'SDK VERSION =', SDK_VERSION);\n        });\n    }\n    static signOut() {\n        window.clearTimeout(this.authRefreshTimer);\n        this.authRefreshTimer = -1;\n        this.authResponse = null;\n        loggerSender.close();\n    }\n    static createLocalMedia(constraints) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const localMedia = new LocalMedia(constraints);\n            yield localMedia.getUserMedia();\n            return localMedia;\n        });\n    }\n    static createLocalScreen(constraints) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const localScreen = new LocalScreen(constraints);\n            yield localScreen.getDisplayMedia();\n            return localScreen;\n        });\n    }\n    static createConference(config) {\n        if (this.authResponse) {\n            return new Conference(this.authResponse, config);\n        }\n        throw new Error('signIn is required');\n    }\n}\nConnectLive.emitter = new EventEmitter();\nConnectLive.authApiClient = new AuthApiClient();\nConnectLive.authRefreshTimer = -1;\nConnectLive.version = SDK_VERSION;\nConnectLive.logger = logger;\n__decorate([\n    Loggable('info')\n], ConnectLive, \"signOut\", null);\n__decorate([\n    Loggable('info')\n], ConnectLive, \"createLocalMedia\", null);\n__decorate([\n    Loggable('info')\n], ConnectLive, \"createLocalScreen\", null);\n__decorate([\n    Loggable('info')\n], ConnectLive, \"createConference\", null);\nexport default ConnectLive;\nexport { LocalMedia };\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.2\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.2',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 255;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SONY    = 'Sony',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK   = 'Facebook';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY).replace(/\\s\\s*$/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /\\bqbcore\\/([\\w\\.]+)/i                                              // WeChat Desktop for Windows Built-in Browser\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /yabrowser\\/([\\w\\.]+)/i                                             // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i                                                      // LieBao Browser\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.]+) .*mobile\\/\\w+ (safari)/i                        // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w\\.]+) .*(mobile ?safari|safari)/i                     // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i                                              // Links\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            // Ordered by popularity\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[pt]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /\\((ip(?:hone|od)[\\w ]*);/i                                         // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}-[atu]?[ln][01259x][012359][an]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ ([c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi)( bui|\\))/i,                                         // Kindle Fire without Silk\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w ]*; *(\\w[^;]*);([^;]*)/i               // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2)?)/i                                                     // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| safari)|pda(?=.+windows ce))/i              // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i                                       // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86)/i                              // Android-x86\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+ ([\\w\\.]+\\w)/i                                         // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,            // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _ua = ua || ((typeof window !== UNDEF_TYPE && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser.major = majorize(_browser.version);\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","<template>\r\n  <video class=\"remote-video\"></video>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['remoteVideo'],\r\n  mounted() {\r\n    this.$el.srcObject = this.remoteVideo.getMediaStream();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nvideo {\r\n  width: 100%;\r\n}\r\n</style>\r\n","import { render } from \"./RemoteVideo.vue?vue&type=template&id=c3ab5b50&scoped=true\"\nimport script from \"./RemoteVideo.vue?vue&type=script&lang=js\"\nexport * from \"./RemoteVideo.vue?vue&type=script&lang=js\"\n\nimport \"./RemoteVideo.vue?vue&type=style&index=0&id=c3ab5b50&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\IdeaProjects\\\\chat-sample2\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-c3ab5b50\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"containerStyle\">\r\n    <div class=\"barStyle\" :style=\"{height: level2 + 'px'}\"></div>\r\n    <div class=\"barStyle\" :style=\"{height: level1 + 'px'}\"></div>\r\n    <div class=\"barStyle\" :style=\"{height: level2 + 'px'}\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: ['level'],\r\n  data() {\r\n    return {\r\n      level1: 0,\r\n      level2: 0\r\n    };\r\n  },\r\n  watch: {\r\n    level() {\r\n      const edited = this.level > 10 ? this.level : 0;\r\n      this.level1 = this.scaleUp(edited, 100, 30);\r\n      this.level2 = this.scaleUp(edited, 100, 20);\r\n    }\r\n  },\r\n  methods: {\r\n    scaleUp(value, total, max) {\r\n      const val = (value / total * max);\r\n      return val < 2 ? 2 : val;\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.containerStyle {\r\n  width: 28px;\r\n  height: 28px;\r\n  background-color: yellow;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  color: black;\r\n  position: absolute;\r\n  left: 5px;\r\n  top: 5px;\r\n}\r\n\r\n.barStyle {\r\n  width: 3px;\r\n  border-radius: 3px;\r\n  background-color: black;\r\n  transition: height 0.1s linear;\r\n  will-change: height;\r\n  margin-left: 1px;\r\n}\r\n</style>\r\n","import { render } from \"./VoiceMeter.vue?vue&type=template&id=519adcb8&scoped=true\"\nimport script from \"./VoiceMeter.vue?vue&type=script&lang=js\"\nexport * from \"./VoiceMeter.vue?vue&type=script&lang=js\"\n\nimport \"./VoiceMeter.vue?vue&type=style&index=0&id=519adcb8&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\IdeaProjects\\\\chat-sample2\\\\frontend\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-519adcb8\"]])\n\nexport default __exports__"],"names":["SDK_VERSION","PROVISIONING_SERVER_URL","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","hash","message","encoder","TextEncoder","data","encode","hashArray","crypto","subtle","digest","Uint8Array","map","x","toString","padStart","join","Object","prototype","hasOwnProperty","isInteger","Number","isSafeInteger","num","isFinite","Math","floor","abs","JsonRpc","constructor","this","jsonrpc","serialize","JSON","stringify","VERSION","RequestObject","id","method","params","super","undefined","NotificationObject","SuccessObject","ErrorObject","error","JsonRpcParsed","payload","type","JsonRpcError","code","request","object","validateMessage","notification","parse","isString","invalidRequest","jsonrpcObj","err","parseError","parseJsonRpcObject","Array","isArray","parseObject","length","parsedObjectArray","i","len","methodNotFound","invalidParams","internalError","obj","payloadType","call","tmp","errorObj","throwIt","checkId","checkMethod","checkParams","checkResult","checkError","maybeNull","isObject","Indexer","get","reset","indexer","LogLevel","verbose","trace","debug","information","warning","LogSender","ws","keepAliveInterval","host","token","logLevelNumber","createWebSocket","WebSocket","onopen","os","browser","userInfo","sdkVersion","platform","platformVersion","name","version","osName","osVersion","deviceModel","clearTimer","window","setInterval","onerror","onclose","onmessage","evt","setLevel","config","log_level","body","isLog","level","logs","stringified","readyState","CONNECTING","CLOSED","CLOSING","close","send","timer","_a","_b","_c","OPEN","clearInterval","logLevel","loggerSender","info","off","toNowDateString","now","Date","year","getFullYear","month","getMonth","date","getDate","hour","getHours","min","getMinutes","sec","getSeconds","millisecond","getMilliseconds","toISOString","toMsgString","msg","log","logger","console","Loggable","target","propertyKey","descriptor","originalMethod","args","ErrorExecption","Error","setPrototypeOf","getCode","getMessage","ServerError","ClientError","HttpWithJSONRpc","headers","setHost","setHeaders","options","httpMethod","path","url","res","fetch","assign","json","__decorate","decorators","key","desc","d","c","arguments","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","AuthApiClient","authorize","authConfig","internally","externally","refreshToken","oldToken","response","serviceId","serviceKey","secret","scheme","firstParams","firstResponse","nonce","ha","secondParams","auth","secondResponse","RoomApiClient","audioOption","setRoomId","roomId","setParticipantId","participantId","sendEnterRoom","sign","sendCreateSession","direction","index","sdp","sendAddCandidate","candidate","sendRestartIce","sendDestroySession","JSONRpc","emitter","methodMap","Map","toStream","warn","handleMessage","parsedObjects","handleParsedObject","parsedObject","hasId","hasMethod","String","emit","forEach","set","once","requestObject","on","callback","noop","Session","apiClient","restartIceInterval","cpuOveruseDetection","maxFramerate","l","m","h","roomApiClient","dataChannel","create","rtcConfig","createPeerConnection","createDataChannel","destroy","peerConnection","_rtcConfig","bundlePolicy","iceTransportPolicy","rtcpMuxPolicy","iceCandidatePoolSize","sdpSemantics","extmapAllowMixed","opt","optional","enableDscp","push","googCpuOveruseDetection","googCpuOveruseEncodeUsage","googCpuUnderuseThreshold","googCpuOveruseThreshold","RTCPeerConnection","onicecandidate","ice","onnegotiationneeded","offer","createOffer","setLocalDescription","answer","RTCSessionDescription","setRemoteDescription","onconnectionstatechange","event","connectionState","_restartIceTimerStop","_restartIceTimerStart","oniceconnectionstatechange","iceConnectionState","ontrack","Response","text","navigator","onLine","_restartIce","iceRestart","DownSession","receiverTrackMap","fixedAudioReceiver","addListeners","negotiationId","receivers","createAnswer","callSetAnswer","transceivers","getTransceivers","reduce","transceiver","receiverId","mid","receiver","track","kind","filter","getTrack","addReceiver","find","callAddReceiver","getFixedAudioReceiver","removeReceiver","receiverIds","callRemoveReceiver","assignStream","callAssignStream","configureReceiver","_callConfigureReceiver","UpSession","streamIdMidMap","addStream","audioType","audioTrack","audioExtraValue","videoType","localVideo","videoExtraValue","videoHd","record","audio","audioOffer","video","videoOffer","_replaceAudioTrack","_replaceVideoTrack","_setVideoProfiles","_callSetAnswer","prev","streamId","default","profiles","p","profile","_callAddStream","extraValue","hd","configureStream","streams","_callConfigureStream","removeStream","streamIds","_removeTracks","_callRemoveStream","_replaceVideoProfiles","audioTransceiver","t","sender","replaceTrack","videoTransceiver","getMediaStreamTrack","cloneTrack","getCloneTrack","stream","getParameters","encodings","active","setParameters","removeTrack","maxBitrate","bitrate","some","fn","filterToArray","filtered","objectToArray","values","Remote","getParticipantId","getExtraValue","_setExtraValue","_setParticipantId","RemoteVideo","participant","videoId","paused","statusUpdateFn","videoElements","isEnabled","mediaStreamTrack","enabled","setMediaStreamEnabled","_setType","_setRemoteTrack","attach","element","videoElement","document","createElement","mediaStream","getMediaStream","srcObject","autoplay","playsInline","detach","remove","stop","MediaStream","getVideoId","_setVideoId","_setReceiverId","_setActive","setPaused","pause","setQuality","quality","RemoteAudio","audioId","isAlwaysOn","property","alwaysOn","getAudioId","_setAlwaysOn","RemoteParticipant","trackFn","streamIdMap","audioMap","videoMap","getTrackFn","media","hasAudio","s","hasVideo","audios","remoteAudios","videos","remoteVideos","isEnabledVideo","isEnabledAudio","_getSubscribedStreamIds","_getFilterStreamIds","assigned","_getUnsubscribedStreamIds","notAssigned","getSubscribedVideos","videoStreams","_getFilterStreams","getUnsubscribedVideos","getAudio","getVideo","_getVideoStreamIdAll","_getVideoStreamAll","videoTracks","_","_addStream","_updateStream","_removeStream","LocalParticipant","setLocalAudio","setLocalVideo","setLocalParticipantId","makeArray","item","fill","Local","getStreamId","setExtraValue","setEnabled","_setStreamId","LocalVideo","cloneMediaStreamTrack","setHd","flag","clone","LocalAudio","setAlwaysOn","LocalMedia","constraints","conf","getDevice","mediaDevices","enumerateDevices","getMicDevices","device","deviceId","getSpeakerDevices","getCameraDevices","switchCamera","exact","unpublish","getUserMedia","videoTrack","getVideoTracks","label","muted","publish","switchMic","getAudioTracks","setConference","setMediaStream","RemoteAudioElements","audioReceivers","audioElements","_setReceivers","audioReceiver","audioElement","_getMediaStream","concat","ms","addTrack","RoomEventName","LocalScreen","switchDisplay","getDisplayMedia","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","ConnectionStep","ENTERROOM","UPSESSION","DOWNSESSION","TOTALSTEP","Conference","authResponse","participantMap","receiverMap","audioStreamIdMap","videoReceiverInitialCount","videoReceiverGrowthRate","videoReceiverMaximumCount","audioOccupants","audioLvlUpdateTs","subscribeStreamIdsQueue","unsubscribeStreamIdsQueue","streamIdsQueueInterval","isStreamIdsQueueWorking","upSession","downSession","localParticipant","remoteAudioElements","roomStatus","_dispatch","ERROR","RECORDFAILED","apiServerUrl","api","httpHeaders","Authorization","remoteParticipants","connect","_handleParticipantsInfo","_handleReceivers","progress","iceServers","lastData","shift","pairs","remoteVideo","removeVideo","_assignVideoStream","disconnect","DISCONNECTED","localMedias","isRecording","promise","localAudio","LOCALAUDIOPUBLISHED","LOCALVIDEOPUBLISHED","promiseArr","localMedia","all","subscribe","participantOrStreamIds","unsubscribedStreamIds","intersection","_checkAlreadySubscribe","random","substring","unsubscribe","videoStreamIds","assignedStreamMap","entries","streamMap","getParticipant","getAudioOccupants","getRemoteVideo","remoteParticipant","getRemoteAudio","remoteAudio","_streamIds","includes","_checkMaxReceiverCount","currentCount","_getCurrentReceiverCount","keys","currentVideoSize","_setReceiverPool","videoSize","slice","receiverCount","currentReceiverCount","remoteVideoTrack","found","change","fullData","participantsEnter","PARTICIPANTENTERED","participantsLeave","PARTICIPANTLEFT","remoteParticipantId","streamsAdded","audioStreams","audioStream","REMOTEAUDIOPUBLISHED","videoStream","REMOTEVIDEOPUBLISHED","streamsUpdated","REMOTEAUDIOSTATECHANGED","REMOTEVIDEOSTATECHANGED","streamsRemoved","LOCALAUDIOUNPUBLISHED","LOCALVIDEOUNPUBLISHED","REMOTEAUDIOUNPUBLISHED","REMOTEVIDEOUNPUBLISHED","lvl","max","LOCALAUDIOLEVELUPDATED","REMOTEAUDIOLEVELUPDATED","_participant","_receiverId","_streamId","REMOTEAUDIOUNSUBSCRIBED","REMOTEAUDIOSUBSCRIBED","participants","appendChild","CONNECTED","getRemoteAudioLevels","levels","lastTimestamp","sc","getContributingSources","ss","timestamp","source","audioLevel","switchSpeaker","setSinkId","catch","promises","ConnectLive","static","eventName","timeout","ttl","restTtl","authApiClient","_startAuthTimer","setTimeout","authRefreshTimer","signOut","cnl","engine","cpu","vendor","architecture","clearTimeout","localScreen","has","prefix","Events","EE","context","addListener","TypeError","listener","_events","_eventsCount","clearEvent","EventEmitter","__proto__","eventNames","events","names","listeners","handlers","ee","listenerCount","a1","a2","a3","a4","a5","removeListener","j","removeAllListeners","prefixed","module","exports","LIBVERSION","EMPTY","UNKNOWN","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","UA_MAX_LENGTH","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","EDGE","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SONY","XIAOMI","ZEBRA","FACEBOOK","extend","regexes","extensions","mergedRegexes","enumerize","arr","enums","toUpperCase","str1","str2","lowerize","str","toLowerCase","majorize","replace","split","trim","rgxMapper","ua","arrays","k","q","matches","match","regex","props","exec","test","strMapper","oldSafariMap","windowsVersionMap","UAParser","getResult","_ua","userAgent","_rgxmap","getBrowser","_browser","major","getCPU","_cpu","_device","getEngine","_engine","getOS","_os","getUA","setUA","CPU","DEVICE","ENGINE","OS","$","jQuery","Zepto","parser","prop","class","_createElementBlock","mounted","$el","__exports__","render","_createElementVNode","style","height","$data","level1","level2","watch","edited","scaleUp","methods","total","val"],"sourceRoot":""}